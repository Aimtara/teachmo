{"version":3,"file":"ExecutionBoard-BTRIZjGx.js","sources":["../../src/pages/ExecutionBoard.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { Link, Navigate, useSearchParams } from 'react-router-dom';\nimport { useAuthenticationStatus } from '@nhost/react';\nimport { API_BASE_URL } from '@/config/api';\n\nfunction toArray(value) {\n  if (!value) return [];\n  if (Array.isArray(value)) return value.filter(Boolean);\n  if (typeof value === 'string') {\n    return value\n      .split(',')\n      .map((s) => s.trim())\n      .filter(Boolean);\n  }\n  return [];\n}\n\nfunction parseChecklist(raw) {\n  if (!raw) return [];\n  return String(raw)\n    .split(/\\r?\\n/)\n    .map((line) => line.trim())\n    .filter(Boolean)\n    .map((line) => {\n      const checked = line.startsWith('☑');\n      const text = line.replace(/^☐\\s*/, '').replace(/^☑\\s*/, '').trim();\n      return { checked, text };\n    });\n}\n\nexport default function ExecutionBoard() {\n  const { isAuthenticated } = useAuthenticationStatus();\n  const [searchParams] = useSearchParams();\n  const [loading, setLoading] = useState(true);\n  const [board, setBoard] = useState(null);\n  const [error, setError] = useState(null);\n\n  const [tagFilter, setTagFilter] = useState('All');\n  const [statusFilter, setStatusFilter] = useState('All');\n  const [segmentFilter, setSegmentFilter] = useState('All');\n  const [search, setSearch] = useState('');\n\n  useEffect(() => {\n    if (!isAuthenticated) return;\n\n    const q = searchParams.get('q');\n    if (q) setSearch(q);\n\n    const load = async () => {\n      setLoading(true);\n      try {\n        const res = await fetch(`${API_BASE_URL}/execution-board`);\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\n        const data = await res.json();\n        setBoard(data);\n        setError(null);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    load();\n  }, [isAuthenticated, searchParams]);\n\n  const epics = board?.epics || [];\n  const gates = board?.gates || [];\n  const slices = board?.slices || [];\n\n  const tagOptions = useMemo(() => {\n    const set = new Set(epics.map((e) => e.Tag).filter(Boolean));\n    return ['All', ...Array.from(set).sort()];\n  }, [epics]);\n\n  const statusOptions = useMemo(() => {\n    const set = new Set(epics.map((e) => e.Status).filter(Boolean));\n    return ['All', ...Array.from(set).sort()];\n  }, [epics]);\n\n  const segmentOptions = useMemo(() => {\n    const set = new Set(epics.map((e) => e['Rail Segment']).filter(Boolean));\n    return ['All', ...Array.from(set).sort()];\n  }, [epics]);\n\n  const filteredEpics = useMemo(() => {\n    const q = search.trim().toLowerCase();\n    return epics\n      .filter((e) => (tagFilter === 'All' ? true : e.Tag === tagFilter))\n      .filter((e) => (statusFilter === 'All' ? true : e.Status === statusFilter))\n      .filter((e) => (segmentFilter === 'All' ? true : e['Rail Segment'] === segmentFilter))\n      .filter((e) => {\n        if (!q) return true;\n        const hay = [e['Epic ID'], e.Workstream, e['Owner (Role)'], e.Notes, e['Rail Segment']]\n          .filter(Boolean)\n          .join(' ')\n          .toLowerCase();\n        return hay.includes(q);\n      })\n      .sort((a, b) => String(a['Epic ID']).localeCompare(String(b['Epic ID'])));\n  }, [epics, tagFilter, statusFilter, segmentFilter, search]);\n\n  const epicById = useMemo(() => {\n    const map = new Map();\n    epics.forEach((e) => {\n      if (e['Epic ID']) map.set(e['Epic ID'], e);\n    });\n    return map;\n  }, [epics]);\n\n  if (!isAuthenticated) return <Navigate to=\"/\" replace />;\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <header className=\"space-y-2\">\n        <h1 className=\"text-3xl font-semibold text-gray-900\">Single execution board</h1>\n        <p className=\"text-gray-600\">\n          One place to see gates → epics → slices → dependencies. Source:{' '}\n          <span className=\"font-medium\">{board?.source || 'executionBoard.json'}</span>\n        </p>\n      </header>\n\n      {loading && <p className=\"text-gray-600\">Loading board…</p>}\n      {error && (\n        <div className=\"rounded-xl border border-red-200 bg-red-50 p-4 text-red-800\" role=\"alert\">\n          <p className=\"font-semibold\">Couldn’t load the execution board.</p>\n          <p className=\"text-sm opacity-90\">{error.message}</p>\n          <p className=\"mt-2 text-sm\">\n            Make sure the backend is running and{' '}\n            <code className=\"rounded bg-red-100 px-1 py-0.5\">/api/execution-board</code> is reachable.\n          </p>\n        </div>\n      )}\n\n      {!loading && !error && board && (\n        <>\n          <section className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {gates.map((gate) => {\n              const items = parseChecklist(gate['Exit criteria checklist (tick when done)']);\n              const checkedCount = items.filter((i) => i.checked).length;\n              const progress = items.length ? Math.round((checkedCount / items.length) * 100) : null;\n\n              return (\n                <div key={gate.Gate} className=\"rounded-xl border border-gray-200 bg-white p-5 shadow-sm\">\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div>\n                      <p className=\"text-sm font-semibold text-gray-900\">\n                        {gate.Gate}: {gate.Purpose}\n                      </p>\n                      <p className=\"mt-1 text-xs text-gray-600\">Owner: {gate['Owner (Role)'] || '—'}</p>\n                    </div>\n                    <span className=\"rounded-full border border-gray-200 px-2 py-1 text-xs text-gray-700\">\n                      {gate.Status || '—'}\n                    </span>\n                  </div>\n\n                  {progress !== null && (\n                    <p className=\"mt-2 text-xs text-gray-600\">\n                      Checklist: {checkedCount}/{items.length} ({progress}%)\n                    </p>\n                  )}\n\n                  {items.length > 0 && (\n                    <ul className=\"mt-3 space-y-2\">\n                      {items.slice(0, 6).map((item) => (\n                        <li key={item.text} className=\"flex gap-2 text-xs text-gray-700\">\n                          <span aria-hidden=\"true\">{item.checked ? '☑' : '☐'}</span>\n                          <span>{item.text}</span>\n                        </li>\n                      ))}\n                      {items.length > 6 && (\n                        <li className=\"text-xs text-gray-500\">+ {items.length - 6} more</li>\n                      )}\n                    </ul>\n                  )}\n                </div>\n              );\n            })}\n          </section>\n\n          <section className=\"space-y-4 rounded-xl border border-gray-200 bg-white p-5 shadow-sm\">\n            <div className=\"flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between\">\n              <div className=\"space-y-1\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Epics</h2>\n                <p className=\"text-sm text-gray-600\">\n                  Filter by tag (MVP shipping / Pilot hardening / Enterprise scale / R&amp;D), segment, and status.\n                </p>\n              </div>\n\n              <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\n                <label className=\"text-sm text-gray-700\">\n                  <span className=\"block text-xs text-gray-500\">Tag</span>\n                  <select\n                    className=\"mt-1 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm\"\n                    value={tagFilter}\n                    onChange={(e) => setTagFilter(e.target.value)}\n                  >\n                    {tagOptions.map((tag) => (\n                      <option key={tag} value={tag}>\n                        {tag}\n                      </option>\n                    ))}\n                  </select>\n                </label>\n\n                <label className=\"text-sm text-gray-700\">\n                  <span className=\"block text-xs text-gray-500\">Segment</span>\n                  <select\n                    className=\"mt-1 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm\"\n                    value={segmentFilter}\n                    onChange={(e) => setSegmentFilter(e.target.value)}\n                  >\n                    {segmentOptions.map((seg) => (\n                      <option key={seg} value={seg}>\n                        {seg}\n                      </option>\n                    ))}\n                  </select>\n                </label>\n\n                <label className=\"text-sm text-gray-700\">\n                  <span className=\"block text-xs text-gray-500\">Status</span>\n                  <select\n                    className=\"mt-1 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm\"\n                    value={statusFilter}\n                    onChange={(e) => setStatusFilter(e.target.value)}\n                  >\n                    {statusOptions.map((st) => (\n                      <option key={st} value={st}>\n                        {st}\n                      </option>\n                    ))}\n                  </select>\n                </label>\n\n                <label className=\"text-sm text-gray-700 sm:min-w-[240px]\">\n                  <span className=\"block text-xs text-gray-500\">Search</span>\n                  <input\n                    className=\"mt-1 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                    placeholder=\"Workstream, owner, notes…\"\n                  />\n                </label>\n              </div>\n            </div>\n\n            <div className=\"overflow-auto\">\n              <table className=\"min-w-full border-separate border-spacing-y-2\">\n                <thead>\n                  <tr className=\"text-left text-xs font-semibold text-gray-600\">\n                    <th className=\"px-3 py-2\">Epic</th>\n                    <th className=\"px-3 py-2\">Workstream</th>\n                    <th className=\"px-3 py-2\">Tag</th>\n                    <th className=\"px-3 py-2\">Segment</th>\n                    <th className=\"px-3 py-2\">Status</th>\n                    <th className=\"px-3 py-2\">Depends on</th>\n                    <th className=\"px-3 py-2\">Unlocks</th>\n                    <th className=\"px-3 py-2\">Commands</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredEpics.map((epic) => {\n                    const upstream = toArray(epic['Upstream Dependencies (IDs)']);\n                    const downstream = toArray(epic['Downstream Dependencies (IDs)']);\n                    const epicId = epic['Epic ID'];\n                    const workstream = epic.Workstream || '';\n                    const prefillUrl = (type, title, payloadObj) => {\n                      const payload = encodeURIComponent(JSON.stringify(payloadObj ?? {}, null, 2));\n                      return `/internal/command-center?type=${encodeURIComponent(type)}&title=${encodeURIComponent(\n                        title\n                      )}&payload=${payload}`;\n                    };\n\n                    return (\n                      <tr\n                        key={epic['Epic ID']}\n                        id={`epic-${epic['Epic ID']}`}\n                        className=\"rounded-lg bg-slate-50 text-sm text-gray-800\"\n                      >\n                        <td className=\"whitespace-nowrap px-3 py-3 align-top font-semibold text-gray-900\">\n                          {epic['Epic ID']}\n                        </td>\n                        <td className=\"px-3 py-3 align-top\">\n                          <div className=\"font-medium text-gray-900\">{epic.Workstream}</div>\n                          {epic['Next milestone'] && (\n                            <div className=\"mt-1 text-xs text-gray-600\">{epic['Next milestone']}</div>\n                          )}\n                        </td>\n                        <td className=\"whitespace-nowrap px-3 py-3 align-top\">\n                          <span className=\"rounded-full border border-gray-200 bg-white px-2 py-1 text-xs\">\n                            {epic.Tag || '—'}\n                          </span>\n                        </td>\n                        <td className=\"whitespace-nowrap px-3 py-3 align-top text-xs text-gray-700\">\n                          {epic['Rail Segment'] || '—'}\n                        </td>\n                        <td className=\"whitespace-nowrap px-3 py-3 align-top\">\n                          <span className=\"rounded-full border border-gray-200 bg-white px-2 py-1 text-xs\">\n                            {epic.Status || '—'}\n                          </span>\n                        </td>\n                        <td className=\"px-3 py-3 align-top\">\n                          <div className=\"flex flex-wrap gap-1\">\n                            {upstream.length === 0 && <span className=\"text-xs text-gray-500\">—</span>}\n                            {upstream.map((id) => (\n                              <a\n                                key={id}\n                                href={`#epic-${id}`}\n                                className=\"rounded-full border border-gray-200 bg-white px-2 py-1 text-xs hover:bg-slate-100\"\n                                title={epicById.get(id)?.Workstream || id}\n                              >\n                                {id}\n                              </a>\n                            ))}\n                          </div>\n                        </td>\n                        <td className=\"px-3 py-3 align-top\">\n                          <div className=\"flex flex-wrap gap-1\">\n                            {downstream.length === 0 && <span className=\"text-xs text-gray-500\">—</span>}\n                            {downstream.map((id) => (\n                              <a\n                                key={id}\n                                href={`#epic-${id}`}\n                                className=\"rounded-full border border-gray-200 bg-white px-2 py-1 text-xs hover:bg-slate-100\"\n                                title={epicById.get(id)?.Workstream || id}\n                              >\n                                {id}\n                              </a>\n                            ))}\n                          </div>\n                        </td>\n                        <td className=\"px-3 py-3 align-top\">\n                          <div className=\"flex flex-wrap gap-2\">\n                            <Link\n                              className=\"text-xs rounded-lg border border-gray-200 bg-white px-2 py-1 hover:bg-slate-100\"\n                              to={prefillUrl(\n                                'RUNBOOK_CREATE',\n                                `${epicId}: ${workstream}`,\n                                {\n                                  incident: `Execution Board epic ${epicId}`,\n                                  service: workstream,\n                                  severity: 'warn',\n                                  upstream,\n                                  downstream,\n                                  anchor: `/internal/execution-board#epic-${epicId}`\n                                }\n                              )}\n                            >\n                              Runbook\n                            </Link>\n                            <Link\n                              className=\"text-xs rounded-lg border border-gray-200 bg-white px-2 py-1 hover:bg-slate-100\"\n                              to={prefillUrl(\n                                'ESCALATE',\n                                `${epicId}: Decision / escalation`,\n                                {\n                                  severity: 'warn',\n                                  target: 'slack',\n                                  message: `Need a decision/escalation on ${epicId} (${workstream}).`,\n                                  anchor: `/internal/execution-board#epic-${epicId}`\n                                }\n                              )}\n                            >\n                              Escalate\n                            </Link>\n                            <Link\n                              className=\"text-xs rounded-lg border border-gray-200 bg-white px-2 py-1 hover:bg-slate-100\"\n                              to={prefillUrl(\n                                'ROLLBACK',\n                                `${epicId}: Rollback`,\n                                {\n                                  deployment: '',\n                                  reason: `Rollback request linked to epic ${epicId} (${workstream}).`,\n                                  anchor: `/internal/execution-board#epic-${epicId}`\n                                }\n                              )}\n                            >\n                              Rollback\n                            </Link>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n              {filteredEpics.length === 0 && (\n                <p className=\"mt-4 text-sm text-gray-600\">No epics match the current filters.</p>\n              )}\n            </div>\n          </section>\n\n          <section className=\"space-y-3 rounded-xl border border-gray-200 bg-white p-5 shadow-sm\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Slices</h2>\n            <p className=\"text-sm text-gray-600\">\n              Thin end-to-end slices that prove each epic works in reality (and not just in Jira fanfic).\n            </p>\n\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              {slices.map((slice) => (\n                <div key={slice['Slice ID']} className=\"rounded-xl border border-gray-200 bg-slate-50 p-4\">\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div>\n                      <p className=\"text-sm font-semibold text-gray-900\">\n                        {slice['Slice ID']} · {slice['Primary Epic']}\n                      </p>\n                      <p className=\"mt-1 text-xs text-gray-600\">{slice['Outcome (end-to-end)']}</p>\n                    </div>\n                    <span className=\"rounded-full border border-gray-200 bg-white px-2 py-1 text-xs\">\n                      {slice.Status || '—'}\n                    </span>\n                  </div>\n\n                  <div className=\"mt-3 space-y-1 text-xs text-gray-700\">\n                    {slice.Deliverables && (\n                      <p>\n                        <span className=\"font-semibold\">Deliverables:</span> {slice.Deliverables}\n                      </p>\n                    )}\n                    {slice['Acceptance tests'] && (\n                      <p>\n                        <span className=\"font-semibold\">Tests:</span> {slice['Acceptance tests']}\n                      </p>\n                    )}\n                    {toArray(slice['Depends on slice IDs']).length > 0 && (\n                      <p>\n                        <span className=\"font-semibold\">Depends on:</span>{' '}\n                        {toArray(slice['Depends on slice IDs']).join(', ')}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </section>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["toArray","value","s","parseChecklist","raw","line","checked","text","ExecutionBoard","isAuthenticated","useAuthenticationStatus","searchParams","useSearchParams","loading","setLoading","useState","board","setBoard","error","setError","tagFilter","setTagFilter","statusFilter","setStatusFilter","segmentFilter","setSegmentFilter","search","setSearch","useEffect","q","res","API_BASE_URL","data","err","epics","gates","slices","tagOptions","useMemo","set","e","statusOptions","segmentOptions","filteredEpics","a","b","epicById","map","jsxs","jsx","Fragment","gate","items","checkedCount","i","progress","item","tag","seg","st","epic","upstream","downstream","epicId","workstream","prefillUrl","type","title","payloadObj","payload","id","_a","Link","slice","Navigate"],"mappings":"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"}
import{h as _e,Y as qt,Z as xt,_ as vt,$ as Vt,a0 as Gt,r as y,a1 as St,a2 as P,a3 as Yt,a4 as Zt,a5 as Xt,a6 as X,a7 as Kt,a8 as ve,a9 as J,aa as Ge,ab as Ye,j as m,O as Jt,ac as U,N as de,ad as Qt,t as er,K as tr,B as oe,ae as rr,I as se,k as nr,i as ie,z as or,af as sr,ag as ir,ah as ar,ai as cr,aj as Ze,ak as lr,H as ur,al as dr,am as Se,an as fr,D as pr,v as mr,ao as gr}from"./index-CcbYISPP.js";import{i as hr,C as br}from"./tiny-invariant-BFFAKc3v.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],xr=_e("Link",yr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sr=_e("Save",vr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cr=_e("User",wr);function Xe(e){return qt(e).getDay()}function Ke(e,t){const n=Er(e);let s;if(n.date){const a=Or(n.date,2);s=$r(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,l;if(n.time&&(i=Rr(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(l=Pr(n.timezone),isNaN(l))return new Date(NaN)}else{const a=new Date(o+i),u=new Date(0);return u.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),u.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),u}return new Date(o+i+l)}const ae={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Dr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ir=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Er(e){const t={},r=e.split(ae.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ae.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ae.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=ae.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Or(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function $r(e,t){if(t===null)return new Date(NaN);const r=e.match(Dr);if(!r)return new Date(NaN);const n=!!r[4],s=K(r[1]),o=K(r[2])-1,i=K(r[3]),l=K(r[4]),a=K(r[5])-1;if(n)return _r(t,l,a)?Tr(t,l,a):new Date(NaN);{const u=new Date(0);return!jr(t,o,i)||!Ar(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,i)),u)}}function K(e){return e?parseInt(e):1}function Rr(e){const t=e.match(Nr);if(!t)return NaN;const r=we(t[1]),n=we(t[2]),s=we(t[3]);return Fr(r,n,s)?r*xt+n*vt+s*1e3:NaN}function we(e){return e&&parseFloat(e.replace(",","."))||0}function Pr(e){if(e==="Z")return 0;const t=e.match(Ir);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return kr(n,s)?r*(n*xt+s*vt):NaN}function Tr(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const Mr=[31,null,31,30,31,30,31,31,30,31,30,31];function wt(e){return e%400===0||e%4===0&&e%100!==0}function jr(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Mr[t]||(wt(e)?29:28))}function Ar(e,t){return t>=1&&t<=(wt(e)?366:365)}function _r(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Fr(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function kr(e,t){return t>=0&&t<=59}var Ce={exports:{}},N={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je;function Br(){if(Je)return N;Je=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,a=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,S=e?Symbol.for("react.block"):60121,d=e?Symbol.for("react.fundamental"):60117,w=e?Symbol.for("react.responder"):60118,C=e?Symbol.for("react.scope"):60119;function D(c){if(typeof c=="object"&&c!==null){var b=c.$$typeof;switch(b){case t:switch(c=c.type,c){case a:case u:case n:case o:case s:case f:return c;default:switch(c=c&&c.$$typeof,c){case l:case g:case x:case v:case i:return c;default:return b}}case r:return b}}}function p(c){return D(c)===u}return N.AsyncMode=a,N.ConcurrentMode=u,N.ContextConsumer=l,N.ContextProvider=i,N.Element=t,N.ForwardRef=g,N.Fragment=n,N.Lazy=x,N.Memo=v,N.Portal=r,N.Profiler=o,N.StrictMode=s,N.Suspense=f,N.isAsyncMode=function(c){return p(c)||D(c)===a},N.isConcurrentMode=p,N.isContextConsumer=function(c){return D(c)===l},N.isContextProvider=function(c){return D(c)===i},N.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===t},N.isForwardRef=function(c){return D(c)===g},N.isFragment=function(c){return D(c)===n},N.isLazy=function(c){return D(c)===x},N.isMemo=function(c){return D(c)===v},N.isPortal=function(c){return D(c)===r},N.isProfiler=function(c){return D(c)===o},N.isStrictMode=function(c){return D(c)===s},N.isSuspense=function(c){return D(c)===f},N.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===n||c===u||c===o||c===s||c===f||c===h||typeof c=="object"&&c!==null&&(c.$$typeof===x||c.$$typeof===v||c.$$typeof===i||c.$$typeof===l||c.$$typeof===g||c.$$typeof===d||c.$$typeof===w||c.$$typeof===C||c.$$typeof===S)},N.typeOf=D,N}var Qe;function Wr(){return Qe||(Qe=1,Ce.exports=Br()),Ce.exports}var De,et;function Lr(){if(et)return De;et=1;var e=Wr(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=n,o[e.Memo]=s;function i(x){return e.isMemo(x)?s:o[x.$$typeof]||t}var l=Object.defineProperty,a=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function v(x,S,d){if(typeof S!="string"){if(h){var w=f(S);w&&w!==h&&v(x,w,d)}var C=a(S);u&&(C=C.concat(u(S)));for(var D=i(x),p=i(S),c=0;c<C.length;++c){var b=C[c];if(!r[b]&&!(d&&d[b])&&!(p&&p[b])&&!(D&&D[b])){var E=g(S,b);try{l(x,b,E)}catch{}}}}return x}return De=v,De}var zr=Lr();const tt=Vt(zr);var Ur=Gt();function Hr(e){e()}let Ct=Hr;const qr=e=>Ct=e,Vr=()=>Ct,rt=Symbol.for("react-redux-context"),nt=typeof globalThis<"u"?globalThis:{};function Gr(){var e;if(!y.createContext)return{};const t=(e=nt[rt])!=null?e:nt[rt]=new Map;let r=t.get(y.createContext);return r||(r=y.createContext(null),t.set(y.createContext,r)),r}const Yr=Gr(),Zr=()=>{throw new Error("uSES not initialized!")};function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(null,arguments)}function Dt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ne={exports:{}},I={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot;function Xr(){if(ot)return I;ot=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.server_context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function S(d){if(typeof d=="object"&&d!==null){var w=d.$$typeof;switch(w){case e:switch(d=d.type,d){case r:case s:case n:case u:case g:return d;default:switch(d=d&&d.$$typeof,d){case l:case i:case a:case h:case f:case o:return d;default:return w}}case t:return w}}}return I.ContextConsumer=i,I.ContextProvider=o,I.Element=e,I.ForwardRef=a,I.Fragment=r,I.Lazy=h,I.Memo=f,I.Portal=t,I.Profiler=s,I.StrictMode=n,I.Suspense=u,I.SuspenseList=g,I.isAsyncMode=function(){return!1},I.isConcurrentMode=function(){return!1},I.isContextConsumer=function(d){return S(d)===i},I.isContextProvider=function(d){return S(d)===o},I.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===e},I.isForwardRef=function(d){return S(d)===a},I.isFragment=function(d){return S(d)===r},I.isLazy=function(d){return S(d)===h},I.isMemo=function(d){return S(d)===f},I.isPortal=function(d){return S(d)===t},I.isProfiler=function(d){return S(d)===s},I.isStrictMode=function(d){return S(d)===n},I.isSuspense=function(d){return S(d)===u},I.isSuspenseList=function(d){return S(d)===g},I.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===r||d===s||d===n||d===u||d===g||d===v||typeof d=="object"&&d!==null&&(d.$$typeof===h||d.$$typeof===f||d.$$typeof===o||d.$$typeof===i||d.$$typeof===a||d.$$typeof===x||d.getModuleId!==void 0)},I.typeOf=S,I}var st;function Kr(){return st||(st=1,Ne.exports=Xr()),Ne.exports}var Jr=Kr();const Qr=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function en(e,t,r,n,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:i}){let l=!1,a,u,g,f,h;function v(C,D){return a=C,u=D,g=e(a,u),f=t(n,u),h=r(g,f,u),l=!0,h}function x(){return g=e(a,u),t.dependsOnOwnProps&&(f=t(n,u)),h=r(g,f,u),h}function S(){return e.dependsOnOwnProps&&(g=e(a,u)),t.dependsOnOwnProps&&(f=t(n,u)),h=r(g,f,u),h}function d(){const C=e(a,u),D=!i(C,g);return g=C,D&&(h=r(g,f,u)),h}function w(C,D){const p=!o(D,u),c=!s(C,a,D,u);return a=C,u=D,p&&c?x():p?S():c?d():h}return function(D,p){return l?w(D,p):v(D,p)}}function tn(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:s}=t,o=Dt(t,Qr);const i=r(e,o),l=n(e,o),a=s(e,o);return en(i,l,a,e,o)}function rn(e,t){const r={};for(const n in e){const s=e[n];typeof s=="function"&&(r[n]=(...o)=>t(s(...o)))}return r}function Pe(e){return function(r){const n=e(r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function it(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Nt(e,t){return function(n,{displayName:s}){const o=function(l,a){return o.dependsOnOwnProps?o.mapToProps(l,a):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,a){o.mapToProps=e,o.dependsOnOwnProps=it(e);let u=o(l,a);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=it(u),u=o(l,a)),u},o}}function Fe(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function nn(e){return e&&typeof e=="object"?Pe(t=>rn(e,t)):e?typeof e=="function"?Nt(e):Fe(e,"mapDispatchToProps"):Pe(t=>({dispatch:t}))}function on(e){return e?typeof e=="function"?Nt(e):Fe(e,"mapStateToProps"):Pe(()=>({}))}function sn(e,t,r){return V({},r,e,t)}function an(e){return function(r,{displayName:n,areMergedPropsEqual:s}){let o=!1,i;return function(a,u,g){const f=e(a,u,g);return o?s(f,i)||(i=f):(o=!0,i=f),i}}}function cn(e){return e?typeof e=="function"?an(e):Fe(e,"mergeProps"):()=>sn}function ln(){const e=Vr();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const at={notify(){},get:()=>[]};function un(e,t){let r,n=at,s=0,o=!1;function i(S){g();const d=n.subscribe(S);let w=!1;return()=>{w||(w=!0,d(),f())}}function l(){n.notify()}function a(){x.onStateChange&&x.onStateChange()}function u(){return o}function g(){s++,r||(r=t?t.addNestedSub(a):e.subscribe(a),n=ln())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=at)}function h(){o||(o=!0,g())}function v(){o&&(o=!1,f())}const x={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:h,tryUnsubscribe:v,getListeners:()=>n};return x}const dn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Te=dn?y.useLayoutEffect:y.useEffect;function ct(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ie(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!ct(e[r[s]],t[r[s]]))return!1;return!0}const fn=["reactReduxForwardedRef"];let It=Zr;const pn=e=>{It=e},mn=[null,null];function gn(e,t,r){Te(()=>e(...t),r)}function hn(e,t,r,n,s,o){e.current=n,r.current=!1,s.current&&(s.current=null,o())}function bn(e,t,r,n,s,o,i,l,a,u,g){if(!e)return()=>{};let f=!1,h=null;const v=()=>{if(f||!l.current)return;const S=t.getState();let d,w;try{d=n(S,s.current)}catch(C){w=C,h=C}w||(h=null),d===o.current?i.current||u():(o.current=d,a.current=d,i.current=!0,g())};return r.onStateChange=v,r.trySubscribe(),v(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function yn(e,t){return e===t}function Et(e,t,r,{pure:n,areStatesEqual:s=yn,areOwnPropsEqual:o=Ie,areStatePropsEqual:i=Ie,areMergedPropsEqual:l=Ie,forwardRef:a=!1,context:u=Yr}={}){const g=u,f=on(e),h=nn(t),v=cn(r),x=!!e;return d=>{const w=d.displayName||d.name||"Component",C=`Connect(${w})`,D={shouldHandleStateChanges:x,displayName:C,wrappedComponentName:w,WrappedComponent:d,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:v,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:l};function p(E){const[$,B,A]=y.useMemo(()=>{const{reactReduxForwardedRef:L}=E,Z=Dt(E,fn);return[E.context,L,Z]},[E]),O=y.useMemo(()=>$&&$.Consumer&&Jr.isContextConsumer(y.createElement($.Consumer,null))?$:g,[$,g]),T=y.useContext(O),W=!!E.store&&!!E.store.getState&&!!E.store.dispatch,te=!!T&&!!T.store,F=W?E.store:T.store,re=te?T.getServerState:F.getState,me=y.useMemo(()=>tn(F.dispatch,D),[F]),[G,Ue]=y.useMemo(()=>{if(!x)return mn;const L=un(F,W?void 0:T.subscription),Z=L.notifyNestedSubs.bind(L);return[L,Z]},[F,W,T]),He=y.useMemo(()=>W?T:V({},T,{subscription:G}),[W,T,G]),ge=y.useRef(),he=y.useRef(A),Y=y.useRef(),qe=y.useRef(!1);y.useRef(!1);const be=y.useRef(!1),ye=y.useRef();Te(()=>(be.current=!0,()=>{be.current=!1}),[]);const Ve=y.useMemo(()=>()=>Y.current&&A===he.current?Y.current:me(F.getState(),A),[F,A]),Ht=y.useMemo(()=>Z=>G?bn(x,F,G,me,he,ge,qe,be,Y,Ue,Z):()=>{},[G]);gn(hn,[he,ge,qe,A,Y,Ue]);let ne;try{ne=It(Ht,Ve,re?()=>me(re(),A):Ve)}catch(L){throw ye.current&&(L.message+=`
The error may be correlated with this previous error:
${ye.current.stack}

`),L}Te(()=>{ye.current=void 0,Y.current=void 0,ge.current=ne});const xe=y.useMemo(()=>y.createElement(d,V({},ne,{ref:B})),[B,d,ne]);return y.useMemo(()=>x?y.createElement(O.Provider,{value:He},xe):xe,[O,xe,He])}const b=y.memo(p);if(b.WrappedComponent=d,b.displayName=p.displayName=C,a){const $=y.forwardRef(function(A,O){return y.createElement(b,V({},A,{reactReduxForwardedRef:O}))});return $.displayName=C,$.WrappedComponent=d,tt($,d)}return tt(b,d)}}pn(Ur.useSyncExternalStore);qr(St.unstable_batchedUpdates);function xn(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Ot(e,t){var r=y.useState(function(){return{inputs:t,result:e()}})[0],n=y.useRef(!0),s=y.useRef(r),o=n.current||!!(t&&s.current.inputs&&xn(t,s.current.inputs)),i=o?s.current:{inputs:t,result:e()};return y.useEffect(function(){n.current=!1,s.current=i},[i]),i.result}function vn(e,t){return Ot(function(){return e},t)}var M=Ot,R=vn,q=function(t){var r=t.top,n=t.right,s=t.bottom,o=t.left,i=n-o,l=s-r,a={top:r,right:n,bottom:s,left:o,width:i,height:l,x:o,y:r,center:{x:(n+o)/2,y:(s+r)/2}};return a},$t=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},lt=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Sn=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ee={top:0,right:0,bottom:0,left:0},ke=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Ee:n,o=t.border,i=o===void 0?Ee:o,l=t.padding,a=l===void 0?Ee:l,u=q($t(r,s)),g=q(lt(r,i)),f=q(lt(g,a));return{marginBox:u,borderBox:q(r),paddingBox:g,contentBox:f,margin:s,border:i,padding:a}},k=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&hr(),s},wn=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Cn=function(t,r){var n=t.borderBox,s=t.border,o=t.margin,i=t.padding,l=Sn(n,r);return ke({borderBox:l,border:s,margin:o,padding:i})},Me=function(t,r){return r===void 0&&(r=wn()),Cn(t,r)},Rt=function(t,r){var n={top:k(r.marginTop),right:k(r.marginRight),bottom:k(r.marginBottom),left:k(r.marginLeft)},s={top:k(r.paddingTop),right:k(r.paddingRight),bottom:k(r.paddingBottom),left:k(r.paddingLeft)},o={top:k(r.borderTopWidth),right:k(r.borderRightWidth),bottom:k(r.borderBottomWidth),left:k(r.borderLeftWidth)};return ke({borderBox:t,margin:n,padding:s,border:o})},Pt=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Rt(r,n)},ut=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Dn(e,t){return!!(e===t||ut(e)&&ut(t))}function Nn(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function j(e,t){t===void 0&&(t=Nn);var r=null;function n(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}var In=function(t){var r=[],n=null,s=function(){for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function Tt(e,t){}Tt.bind(null,"warn");Tt.bind(null,"error");function En(){}function On(e,t){return{...e,...t}}function $n(e,t,r){const n=t.map(s=>{const o=On(r,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){n.forEach(o=>{o()})}}const Rn="Invariant failed";class fe extends Error{}fe.prototype.toString=function(){return this.message};function _(e,t){throw new fe(Rn)}class ts extends P.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=En,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof fe&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=$n(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof fe){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const H={x:0,y:0},Pn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Tn=(e,t)=>e.x===t.x&&e.y===t.y,Mn=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),jn=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t};var An=((e,t)=>{const r=q({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r});const _n=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Fn={top:0,right:0,bottom:0,left:0},kn=(e,t)=>t?_n(e,t.scroll.diff.displacement):e,Bn=(e,t,r)=>e,Wn=(e,t)=>t&&t.shouldClipSubject?An(t.pageMarginBox,e):q(e);var Ln=(({page:e,withPlaceholder:t,axis:r,frame:n})=>{const s=kn(e.marginBox,n),o=Bn(s),i=Wn(o,n);return{page:e,withPlaceholder:t,active:i}});j(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{}));j(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{}));const zn=j(e=>Object.values(e)),Un=j(e=>Object.values(e));j((e,t)=>Un(t).filter(n=>e===n.descriptor.droppableId).sort((n,s)=>n.descriptor.index-s.descriptor.index));function Hn(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}j((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id));const qn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Vn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};j(function(t,r){const n=r[t.line];return{value:n,point:jn(t.line,n)}});var le=(e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null});const Gn=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Yn=()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),Be={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ee={opacity:{drop:0,combining:.7},scale:{drop:.75}},Zn={outOfTheWay:.2},z=`${Zn.outOfTheWay}s ${Be.outOfTheWay}`,ue={fluid:`opacity ${z}`,snap:`transform ${z}, opacity ${z}`,drop:e=>{const t=`${e}s ${Be.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${z}`,placeholder:`height ${z}, width ${z}, margin ${z}`},dt=e=>Tn(e,H)?void 0:`translate(${e.x}px, ${e.y}px)`,je={moveTo:dt,drop:(e,t)=>{const r=dt(e);if(r)return t?`${r} scale(${ee.scale.drop})`:r}};var Mt=(({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const s=Pn({x:t,y:e},{x:n,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}}),Xn=(()=>{const e=document.documentElement;return e||_(),e}),Kn=(()=>{const e=Xn();return Mt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})});j(e=>zn(e).filter(t=>!(!t.isEnabled||!t.frame)));const Jn="data-rfd",ft={contextId:`${Jn}-scroll-container-context-id`},Qn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect;var Q=Qn,jt=P.createContext(null);let eo=0;const At={separator:"::"};function to(e,t=At){return M(()=>`${e}${t.separator}${eo++}`,[t.separator,e])}function ro(e,t=At){const r=P.useId();return M(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var _t="useId"in P?ro:to,We=P.createContext(null);function no(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),t}function Le(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const pt={dragging:5e3,dropAnimating:4500},oo=(e,t)=>t?ue.drop(t.duration):e?ue.snap:ue.fluid,so=(e,t)=>{if(e)return t?ee.opacity.drop:ee.opacity.combining},io=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function ao(e){const r=e.dimension.client,{offset:n,combineWith:s,dropping:o}=e,i=!!s,l=io(e),a=!!o,u=a?je.drop(n,i):je.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:oo(l,o),transform:u,opacity:so(i,a),zIndex:a?pt.dropAnimating:pt.dragging,pointerEvents:"none"}}function co(e){return{transform:je.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function lo(e){return e.type==="DRAGGING"?ao(e):co(e)}function uo(e,t,r=H){const n=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=Rt(s,n),i=Me(o,r),l={client:o,tagName:t.tagName.toLowerCase(),display:n.display},a={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:a,client:o,page:i}}function fo(e){const t=_t("draggable"),{descriptor:r,registry:n,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}=e,a=M(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}),[o,l,i]),u=R(v=>{const x=s();return x||_(),uo(r,x,v)},[r,s]),g=M(()=>({uniqueId:t,descriptor:r,options:a,getDimension:u}),[r,u,a,t]),f=y.useRef(g),h=y.useRef(!0);Q(()=>(n.draggable.register(f.current),()=>n.draggable.unregister(f.current)),[n.draggable]),Q(()=>{if(h.current){h.current=!1;return}const v=f.current;f.current=g,n.draggable.update(g,v)},[g,n.draggable])}var ze=P.createContext(null);function pe(e){const t=y.useContext(e);return t||_(),t}function po(e){e.preventDefault()}const mo=e=>{const t=y.useRef(null),r=R((b=null)=>{t.current=b},[]),n=R(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:i}=pe(We),{type:l,droppableId:a}=pe(ze),u=M(()=>({id:e.draggableId,index:e.index,type:l,droppableId:a}),[e.draggableId,e.index,l,a]),{children:g,draggableId:f,isEnabled:h,shouldRespectForcePress:v,canDragInteractiveElements:x,isClone:S,mapped:d,dropAnimationFinished:w}=e;if(!S){const b=M(()=>({descriptor:u,registry:i,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:v,isEnabled:h}),[u,i,n,x,v,h]);fo(b)}const C=M(()=>h?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:po}:null,[s,o,f,h]),D=R(b=>{d.type==="DRAGGING"&&d.dropping&&b.propertyName==="transform"&&(P.version.startsWith("16")||P.version.startsWith("17")?w():St.flushSync(w))},[w,d]),p=M(()=>{const b=lo(d),E=d.type==="DRAGGING"&&d.dropping?D:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:b,onTransitionEnd:E},dragHandleProps:C}},[s,C,f,d,D,r]),c=M(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return P.createElement(P.Fragment,null,g(p,d.snapshot,c))};var go=mo,Ft=((e,t)=>e===t),kt=(e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null});const ho=e=>e.combine?e.combine.draggableId:null,bo=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function yo(){const e=j((s,o)=>({x:s,y:o})),t=j((s,o,i=null,l=null,a=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!a,dropAnimation:a,mode:s,draggingOver:i,combineWith:l,combineTargetFor:null})),r=j((s,o,i,l,a=null,u=null,g=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:g,snapshot:t(o,l,a,u,null)}}));return(s,o)=>{if(Le(s)){if(s.critical.draggable.id!==o.draggableId)return null;const i=s.current.client.offset,l=s.dimensions.draggables[o.draggableId],a=le(s.impact),u=bo(s.impact),g=s.forceShouldAnimate;return r(e(i.x,i.y),s.movementMode,l,o.isClone,a,u,g)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==o.draggableId)return null;const l=o.isClone,a=s.dimensions.draggables[o.draggableId],u=i.result,g=u.mode,f=kt(u),h=ho(u),x={duration:s.dropDuration,curve:Be.drop,moveTo:s.newHomeClientOffset,opacity:h?ee.opacity.drop:null,scale:h?ee.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:a,dropping:x,draggingOver:f,combineWith:h,mode:g,forceShouldAnimate:null,snapshot:t(g,l,f,h,x)}}}return null}}function Bt(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const xo={mapped:{type:"SECONDARY",offset:H,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Bt(null)}};function vo(){const e=j((i,l)=>({x:i,y:l})),t=j(Bt),r=j((i,l=null,a)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:a,snapshot:t(l)}})),n=i=>i?r(H,i,!0):null,s=(i,l,a,u)=>{const g=a.displaced.visible[i],f=!!(u.inVirtualList&&u.effected[i]),h=Hn(a),v=h&&h.draggableId===i?l:null;if(!g){if(!f)return n(v);if(a.displaced.invisible[i])return null;const d=Mn(u.displacedBy.point),w=e(d.x,d.y);return r(w,v,!0)}if(f)return n(v);const x=a.displacedBy.point,S=e(x.x,x.y);return r(S,v,g.shouldAnimate)};return(i,l)=>{if(Le(i))return i.critical.draggable.id===l.draggableId?null:s(l.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const a=i.completed;return a.result.draggableId===l.draggableId?null:s(l.draggableId,a.result.draggableId,a.impact,a.afterCritical)}return null}}const So=()=>{const e=yo(),t=vo();return(n,s)=>e(n,s)||t(n,s)||xo},wo={dropAnimationFinished:Yn},Co=Et(So,wo,null,{context:jt,areStatePropsEqual:Ft})(go);var Do=Co;function No(e){return pe(ze).isUsingCloneFor===e.draggableId&&!e.isClone?null:P.createElement(Do,e)}const Wt=e=>t=>e===t,Io=Wt("scroll"),Eo=Wt("auto"),mt=(e,t)=>t(e.overflowX)||t(e.overflowY),Oo=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return mt(r,Io)||mt(r,Eo)},$o=()=>!1,Lt=e=>e==null?null:e===document.body?$o()?e:null:e===document.documentElement?null:Oo(e)?e:Lt(e.parentElement);var Ae=(e=>({x:e.scrollLeft,y:e.scrollTop}));const zt=e=>e?window.getComputedStyle(e).position==="fixed"?!0:zt(e.parentElement):!1;var Ro=(e=>{const t=Lt(e),r=zt(e);return{closestScrollable:t,isFixedOnPage:r}}),Po=(({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:s,client:o,page:i,closest:l})=>{const a=(()=>{if(!l)return null;const{scrollSize:h,client:v}=l,x=Mt({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:H,displacement:H}}}})(),u=s==="vertical"?qn:Vn,g=Ln({page:i,withPlaceholder:null,axis:u,frame:a});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:u,isEnabled:t,client:o,page:i,frame:a,subject:g}});const To=(e,t)=>{const r=Pt(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,s=r.paddingBox.left-t.scrollLeft,o=n+t.scrollHeight,i=s+t.scrollWidth,a=$t({top:n,right:i,bottom:o,left:s},r.border);return ke({borderBox:a,margin:r.margin,border:r.border,padding:r.padding})};var Mo=(({ref:e,descriptor:t,env:r,windowScroll:n,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:l})=>{const a=r.closestScrollable,u=To(e,a),g=Me(u,n),f=(()=>{if(!a)return null;const v=Pt(a),x={scrollHeight:a.scrollHeight,scrollWidth:a.scrollWidth};return{client:v,page:Me(v,n),scroll:Ae(a),scrollSize:x,shouldClipSubject:l}})();return Po({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:r.isFixedOnPage,direction:s,client:u,page:g,closest:f})});const jo={passive:!1},Ao={passive:!0};var gt=(e=>e.shouldPublishImmediately?jo:Ao);const ce=e=>e&&e.env.closestScrollable||null;function _o(e){const t=y.useRef(null),r=pe(We),n=_t("droppable"),{registry:s,marshal:o}=r,i=no(e),l=M(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),a=y.useRef(l),u=M(()=>j((p,c)=>{t.current||_();const b={x:p,y:c};o.updateDroppableScroll(l.id,b)}),[l.id,o]),g=R(()=>{const p=t.current;return!p||!p.env.closestScrollable?H:Ae(p.env.closestScrollable)},[]),f=R(()=>{const p=g();u(p.x,p.y)},[g,u]),h=M(()=>In(f),[f]),v=R(()=>{const p=t.current,c=ce(p);if(p&&c||_(),p.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),x=R((p,c)=>{t.current&&_();const b=i.current,E=b.getDroppableRef();E||_();const $=Ro(E),B={ref:E,descriptor:l,env:$,scrollOptions:c};t.current=B;const A=Mo({ref:E,descriptor:l,env:$,windowScroll:p,direction:b.direction,isDropDisabled:b.isDropDisabled,isCombineEnabled:b.isCombineEnabled,shouldClipSubject:!b.ignoreContainerClipping}),O=$.closestScrollable;return O&&(O.setAttribute(ft.contextId,r.contextId),O.addEventListener("scroll",v,gt(B.scrollOptions))),A},[r.contextId,l,v,i]),S=R(()=>{const p=t.current,c=ce(p);return p&&c||_(),Ae(c)},[]),d=R(()=>{const p=t.current;p||_();const c=ce(p);t.current=null,c&&(h.cancel(),c.removeAttribute(ft.contextId),c.removeEventListener("scroll",v,gt(p.scrollOptions)))},[v,h]),w=R(p=>{const c=t.current;c||_();const b=ce(c);b||_(),b.scrollTop+=p.y,b.scrollLeft+=p.x},[]),C=M(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:S,dragStopped:d,scroll:w}),[d,x,S,w]),D=M(()=>({uniqueId:n,descriptor:l,callbacks:C}),[C,l,n]);Q(()=>(a.current=D.descriptor,s.droppable.register(D),()=>{t.current&&d(),s.droppable.unregister(D)}),[C,l,d,D,o,s.droppable]),Q(()=>{t.current&&o.updateDroppableIsEnabled(a.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Q(()=>{t.current&&o.updateDroppableIsCombineEnabled(a.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Oe(){}const ht={width:0,height:0,margin:Fn},Fo=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?ht:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ko=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=Fo({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?ue.placeholder:null}},Bo=e=>{const t=y.useRef(null),r=R(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:s,onClose:o,contextId:i}=e,[l,a]=y.useState(e.animate==="open");y.useEffect(()=>l?n!=="open"?(r(),a(!1),Oe):t.current?Oe:(t.current=setTimeout(()=>{t.current=null,a(!1)}),r):Oe,[n,l,r]);const u=R(f=>{f.propertyName==="height"&&(s(),n==="close"&&o())},[n,o,s]),g=ko({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return P.createElement(e.placeholder.tagName,{style:g,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var Wo=P.memo(Bo);class Lo extends P.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const zo=e=>{const t=y.useContext(We);t||_();const{contextId:r,isMovementAllowed:n}=t,s=y.useRef(null),o=y.useRef(null),{children:i,droppableId:l,type:a,mode:u,direction:g,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:v,snapshot:x,useClone:S,updateViewportMaxScroll:d,getContainerForClone:w}=e,C=R(()=>s.current,[]),D=R((O=null)=>{s.current=O},[]);R(()=>o.current,[]);const p=R((O=null)=>{o.current=O},[]),c=R(()=>{n()&&d({maxScroll:Kn()})},[n,d]);_o({droppableId:l,type:a,mode:u,direction:g,isDropDisabled:h,isCombineEnabled:v,ignoreContainerClipping:f,getDroppableRef:C});const b=M(()=>P.createElement(Lo,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:O,data:T,animate:W})=>P.createElement(Wo,{placeholder:T,onClose:O,innerRef:p,animate:W,contextId:r,onTransitionEnd:c})),[r,c,e.placeholder,e.shouldAnimatePlaceholder,p]),E=M(()=>({innerRef:D,placeholder:b,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,b,D]),$=S?S.dragging.draggableId:null,B=M(()=>({droppableId:l,type:a,isUsingCloneFor:$}),[l,$,a]);function A(){if(!S)return null;const{dragging:O,render:T}=S,W=P.createElement(No,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(te,F)=>T(te,F,O));return Yt.createPortal(W,w())}return P.createElement(ze.Provider,{value:B},i(E,x),A())};var Uo=zo;function Ho(){return document.body||_(),document.body}const bt={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ho},Ut=e=>{let t={...e},r;for(r in bt)e[r]===void 0&&(t={...t,[r]:bt[r]});return t},$e=(e,t)=>e===t.droppable.type,yt=(e,t)=>t.draggables[e.draggable.id],qo=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=j(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),n=j((o,i,l,a,u,g)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===o){const x=g?{render:g,dragging:r(u.descriptor)}:null,S={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:x}}if(!i)return t;if(!a)return e;const v={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(o,i)=>{const l=Ut(i),a=l.droppableId,u=l.type,g=!l.isDropDisabled,f=l.renderClone;if(Le(o)){const h=o.critical;if(!$e(u,h))return t;const v=yt(h,o.dimensions),x=le(o.impact)===a;return n(a,g,x,x,v,f)}if(o.phase==="DROP_ANIMATING"){const h=o.completed;if(!$e(u,h.critical))return t;const v=yt(h.critical,o.dimensions);return n(a,g,kt(h.result)===a,le(h.impact)===a,v,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const h=o.completed;if(!$e(u,h.critical))return t;const v=le(h.impact)===a,x=!!(h.impact.at&&h.impact.at.type==="COMBINE"),S=h.critical.droppable.id===a;return v?x?e:t:S?e:t}return t}},Vo={updateViewportMaxScroll:Gn},Go=Et(qo,Vo,(e,t,r)=>({...Ut(r),...e,...t}),{context:jt,areStatePropsEqual:Ft})(Uo);var Yo=Go;const Zo=({day:e,monthStart:t,onDayClick:r,children:n})=>{const s=e.toISOString().split("T")[0];return m.jsx(Yo,{droppableId:`calendar-${s}`,type:"ITEM",children:(o,i)=>m.jsxs(de.div,{ref:o.innerRef,...o.droppableProps,variants:{hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},className:`border-r border-b p-2 min-h-[120px] relative ${Qt(e,t)?"bg-white":"bg-gray-50 text-gray-400"} ${J(e,new Date)?"bg-blue-50":""} ${i.isDraggedOver?"bg-green-100 border-green-300":""}`,children:[m.jsx("div",{className:`font-semibold ${J(e,new Date)?"text-blue-600":""} ${r?"cursor-pointer hover:text-blue-700":""}`,onClick:r?()=>r(e):void 0,children:U(e,"d")}),m.jsx("div",{className:"mt-1 space-y-1",children:n}),o.placeholder]})})},Xo=({currentDate:e,events:t,onEventClick:r,isLoading:n,view:s,onDayClick:o,childrenData:i})=>{const[l,a]=y.useState(new Date),u=y.useRef({});y.useEffect(()=>{u.current={}},[t,s]),y.useEffect(()=>{if(s==="week"){const w=setInterval(()=>a(new Date),6e4);return()=>clearInterval(w)}},[s]);const g=Zt(e),f=Xt(g),h=X(g),v=Kt(f),x=[];let S=h;for(;S<=v;)x.push(S),S=ve(S,1);const d=y.useCallback(w=>{const C=w.toISOString().split("T")[0];if(u.current[C])return u.current[C];const D=t.filter(p=>{if(!p||!p.start_time)return!1;const c=new Date(p.start_time);if(isNaN(c.getTime()))return!1;if(p.all_day)return J(c,w);if(!p.end_time)return!1;const b=new Date(p.end_time);return isNaN(b.getTime())?!1:c<=Ge(w)&&b>=Ye(w)}).sort((p,c)=>{const b=new Date(p.start_time),E=new Date(c.start_time);return isNaN(b.getTime())&&isNaN(E.getTime())?0:isNaN(b.getTime())?1:isNaN(E.getTime())?-1:b.getTime()-E.getTime()});return u.current[C]=D,D},[t]);if(n)return m.jsx("div",{className:"flex items-center justify-center h-96",children:m.jsx(Jt,{className:"w-8 h-8 animate-spin text-gray-500"})});if(s==="week"){const w=Array.from({length:7},(c,b)=>ve(X(e),b)),C=Array.from({length:24},(c,b)=>`${b.toString().padStart(2,"0")}:00`),p=X(new Date,{weekStartsOn:0}).getTime()===X(e,{weekStartsOn:0}).getTime();return m.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-lg rounded-xl overflow-hidden relative",children:[m.jsxs("div",{className:"grid grid-cols-8 text-center sticky top-0 bg-white z-10",children:[m.jsx("div",{className:"w-14"}),w.map(c=>m.jsxs("div",{className:"py-2 border-l",children:[m.jsx("div",{className:`text-sm ${J(c,new Date)?"text-blue-600":""}`,children:U(c,"ccc")}),m.jsx("div",{className:`text-lg font-bold ${J(c,new Date)?"text-blue-600":""}`,children:U(c,"d")})]},c.toString()))]}),m.jsxs("div",{className:"flex h-[1200px] overflow-y-auto",children:[m.jsx("div",{className:"w-14 text-xs text-gray-500",children:C.map(c=>m.jsx("div",{className:"h-12 text-right pr-2 border-t -mt-px",children:c},c))}),m.jsxs("div",{className:"grid grid-cols-7 flex-1 relative",children:[C.map((c,b)=>m.jsx("div",{className:"col-span-7 h-12 border-t"},b)),Array.from({length:6}).map((c,b)=>m.jsx("div",{className:`row-start-1 row-span-24 h-full border-l col-start-${b+2}`},b)),p&&m.jsx("div",{className:"absolute w-full h-0.5 bg-red-500 z-20 flex items-center",style:{top:`${(l.getHours()+l.getMinutes()/60)*48}px`},children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 -ml-1"})}),t.map(c=>{if(!c||!c.start_time||!c.end_time)return null;const b=new Date(c.start_time),E=new Date(c.end_time);if(isNaN(b.getTime())||isNaN(E.getTime()))return null;const $=Xe(b),B=b.getHours()+b.getMinutes()/60,O=E.getHours()+E.getMinutes()/60-B,T=X(e),W=ve(T,6);if(!(b<=Ge(W)&&E>=Ye(T))||c.all_day)return null;const F=Xe(T),re=($-F+7)%7;return m.jsxs("div",{onClick:()=>r(c),className:"absolute p-1 rounded text-xs cursor-pointer text-white truncate",style:{backgroundColor:c.color||"var(--teachmo-blue)",top:`${B*48}px`,height:`${O*48}px`,left:`${re/7*100}%`,width:`${1/7*100}%`},children:[U(b,"p")," ",c.title]},c.id)})]})]})]})}return m.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-lg rounded-xl overflow-hidden flex-1",children:[m.jsx("div",{className:"grid grid-cols-7 text-center font-medium text-gray-600 border-b",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w=>m.jsx("div",{className:"py-3",children:w},w))}),m.jsx(de.div,{className:"grid grid-cols-7 grid-rows-6",variants:{visible:{transition:{staggerChildren:.02}}},initial:"hidden",animate:"visible",children:x.map(w=>m.jsxs(Zo,{day:w,monthStart:g,onDayClick:o,children:[d(w).slice(0,3).map(C=>{const D=Array.isArray(i)?i.find(p=>p.id===C.child_id):void 0;return m.jsxs("div",{onClick:()=>r(C),className:"p-1 rounded text-xs cursor-pointer text-white truncate flex items-center gap-1",style:{backgroundColor:C.color||"var(--teachmo-blue)"},children:[D&&m.jsx("div",{className:"w-3 h-3 rounded-full bg-white/50 flex-shrink-0"}),m.jsxs("span",{className:"truncate",children:[C.all_day?"":C.start_time&&U(new Date(C.start_time),"p")," ",C.title]})]},C.id)}),d(w).length>3&&m.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+ ",d(w).length-3," more"]})]},w.toString()))})]})},Re=pr("event-modal");function Ko({event:e,user:t,onClose:r,childrenData:n,defaultChildId:s}){var D;const o=!e||!e.id,[i,l]=y.useState(o?{title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",start_time:(e==null?void 0:e.start_time)||new Date().toISOString(),end_time:(e==null?void 0:e.end_time)||new Date(new Date().getTime()+3600*1e3).toISOString(),child_id:s||((D=n==null?void 0:n[0])==null?void 0:D.id)||null,all_day:!1,resource_id:(e==null?void 0:e.resource_id)||null,resource_type:(e==null?void 0:e.resource_type)||"custom",color:(e==null?void 0:e.color)||"#6B9DC8"}:{...e}),[a,u]=y.useState(!1),[g,f]=y.useState(!1),[h,v]=y.useState(null),{toast:x}=er();y.useEffect(()=>{e&&JSON.stringify(e)!==JSON.stringify(i)&&l(e)},[e]);const S=(p,c)=>{l(b=>({...b,[p]:c}))},d=async()=>{if(!i.title){v("Title is required.");return}u(!0),v(null);const p={...i,user_id:t.id};try{if(o){if(await Se.create(p)&&p.resource_type==="activity"&&p.resource_id)try{await fr.update(p.resource_id,{status:"planned"})}catch(b){Re.error("Failed to update source activity status",b)}}else await Se.update(e.id,p);r(),x({title:o?"Event Created":"Event Updated",description:`"${i.title}" has been saved.`})}catch(c){Re.error("Failed to save event",c),v("An error occurred while saving. Please try again.")}finally{u(!1)}},w=async()=>{if(!o){f(!0);try{await Se.delete(e.id),r(),x({title:"Event Deleted",description:`"${e.title}" has been removed from your calendar.`})}catch(p){Re.error("Failed to delete event",p),v("An error occurred while deleting. Please try again."),f(!1)}}},C=()=>{if(!i.resource_id||!i.resource_type)return null;switch(i.resource_type){case"activity":return`/activities/${i.resource_id}`;case"local_event":return`/events/${i.resource_id}`;default:return null}};return m.jsx(tr,{children:m.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:r,children:m.jsxs(de.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-20},className:"bg-white rounded-xl shadow-2xl w-full max-w-lg relative",onClick:p=>p.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:o?"Create Event":"Edit Event"}),m.jsx(oe,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:m.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]}),m.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(se,{placeholder:"Event Title",value:i.title,onChange:p=>S("title",p.target.value),className:"text-lg font-medium"}),m.jsx(nr,{placeholder:"Description",value:i.description,onChange:p=>S("description",p.target.value)}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs(ie,{className:"flex items-center gap-2 mb-2",children:[m.jsx(or,{className:"w-4 h-4"})," Start Time"]}),m.jsx(se,{type:"datetime-local",value:U(Ke(i.start_time),"yyyy-MM-dd'T'HH:mm"),onChange:p=>S("start_time",new Date(p.target.value).toISOString())})]}),m.jsxs("div",{children:[m.jsxs(ie,{className:"flex items-center gap-2 mb-2",children:[m.jsx(br,{className:"w-4 h-4"})," End Time"]}),m.jsx(se,{type:"datetime-local",value:U(Ke(i.end_time),"yyyy-MM-dd'T'HH:mm"),onChange:p=>S("end_time",new Date(p.target.value).toISOString())})]})]}),m.jsxs("div",{children:[m.jsxs(ie,{className:"flex items-center gap-2 mb-2",children:[m.jsx(Cr,{className:"w-4 h-4"})," For Child"]}),m.jsxs(sr,{value:i.child_id||"",onValueChange:p=>S("child_id",p),children:[m.jsx(ir,{children:m.jsx(ar,{placeholder:"Select a child..."})}),m.jsxs(cr,{children:[m.jsx(Ze,{value:null,children:"General / Family"}),n.map(p=>m.jsx(Ze,{value:p.id,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.color}}),p.name]})},p.id))]})]})]}),m.jsxs("div",{children:[m.jsxs(ie,{className:"flex items-center gap-2 mb-2",children:[m.jsx(lr,{className:"w-4 h-4"})," Color"]}),m.jsx(se,{type:"color",value:i.color||"#6B9DC8",onChange:p=>S("color",p.target.value),className:"w-full h-10 p-1"})]}),C()&&m.jsx("a",{href:C(),target:"_blank",rel:"noopener noreferrer",children:m.jsxs(oe,{variant:"outline",className:"w-full gap-2",children:[m.jsx(xr,{className:"w-4 h-4"}),"View Linked ",i.resource_type]})})]}),h&&m.jsxs("div",{className:"mt-4 text-red-600 text-sm flex items-center gap-2",children:[m.jsx(ur,{className:"w-4 h-4"}),h]})]}),m.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-between",children:[m.jsx("div",{children:!o&&m.jsxs(oe,{variant:"destructive",onClick:w,disabled:g,children:[m.jsx(dr,{className:"w-4 h-4 mr-2"}),g?"Deleting...":"Delete"]})}),m.jsxs(oe,{onClick:d,disabled:a,style:{backgroundColor:"var(--teachmo-sage)"},children:[m.jsx(Sr,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Changes"]})]})]})})})}function rs(){const[e,t]=y.useState(new Date),[r,n]=y.useState(null),[s,o]=y.useState(!1),{data:i=[],isLoading:l}=mr(["events",e],async()=>await gr({limit:100})||[]),a=(i||[]).map(f=>({id:f.id,title:f.title,description:f.description,start_time:f.starts_at||f.start_time,end_time:f.ends_at||f.end_time,all_day:!1,child_id:f.child_id,color:f.color||void 0})),u=f=>{t(f)},g=f=>{n(f),o(!0)};return m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx(Xo,{currentDate:e,events:a,view:"month",onEventClick:g,onDayClick:u,childrenData:[],isLoading:l}),s&&r&&m.jsx(Ko,{event:r,onClose:()=>{o(!1),n(null)},childrenData:[]})]})}export{rs as default};
//# sourceMappingURL=Calendar-B25mHK3h.js.map

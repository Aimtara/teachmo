{"version":3,"file":"LibraryTab-BpbtWPpe.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bookmark-check.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/play.js","../../node_modules/lucide-react/dist/esm/icons/video.js","../../src/components/shared/LazyImage.jsx","../../src/components/library/ResourceCard.jsx","../../src/components/library/LibraryFilters.jsx","../../src/components/shorts/ShortsCard.jsx","../../src/components/shorts/ShortsPlayer.jsx","../../src/components/shorts/ShortsFeedbackBar.jsx","../../src/components/shorts/ShortsRail.jsx","../../src/components/discover/ShortsDiscoverTab.jsx","../../src/components/discover/LibraryTab.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z\", key: \"169p4p\" }],\n  [\"path\", { d: \"m9 10 2 2 4-4\", key: \"1gnqz4\" }]\n];\nconst BookmarkCheck = createLucideIcon(\"BookmarkCheck\", __iconNode);\n\nexport { __iconNode, BookmarkCheck as default };\n//# sourceMappingURL=bookmark-check.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n];\nconst FileText = createLucideIcon(\"FileText\", __iconNode);\n\nexport { __iconNode, FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"polygon\", { points: \"6 3 20 12 6 21 6 3\", key: \"1oa8hb\" }]];\nconst Play = createLucideIcon(\"Play\", __iconNode);\n\nexport { __iconNode, Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5\",\n      key: \"ftymec\"\n    }\n  ],\n  [\"rect\", { x: \"2\", y: \"6\", width: \"14\", height: \"12\", rx: \"2\", key: \"158x01\" }]\n];\nconst Video = createLucideIcon(\"Video\", __iconNode);\n\nexport { __iconNode, Video as default };\n//# sourceMappingURL=video.js.map\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Skeleton } from '@/components/ui/skeleton';\n\nconst LazyImage = ({ src, alt, className, skeletonClassName }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const imgRef = useRef();\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInView(true);\n          observer.disconnect();\n        }\n      },\n      { rootMargin: '100px' }\n    );\n\n    if (imgRef.current) {\n      observer.observe(imgRef.current);\n    }\n\n    return () => {\n      if(imgRef.current) {\n        observer.unobserve(imgRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div ref={imgRef} className={`relative ${className}`}>\n      {!isLoaded && (\n        <Skeleton className={`absolute inset-0 w-full h-full ${skeletonClassName}`} />\n      )}\n      {isInView && (\n        <img\n          src={src}\n          alt={alt}\n          onLoad={() => setIsLoaded(true)}\n          className={`transition-opacity duration-300 ${isLoaded ? 'opacity-100' : 'opacity-0'}`}\n          style={{ width: '100%', height: '100%', objectFit: 'cover' }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LazyImage;\n\nexport { LazyImage };\n","\nimport React from \"react\";\nimport { Card, CardContent, CardHeader, CardFooter } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { \n  Bookmark, \n  BookmarkCheck, \n  Play, \n  FileText, \n  Video, \n  BookOpen, \n  Clock,\n  Star,\n  Eye,\n  Users,\n  Lock,\n  ExternalLink,\n} from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { createPageUrl } from \"@/utils\";\nimport LazyImage from '../shared/LazyImage'; // Import the new component\n\nconst typeIcons = {\n  article: FileText,\n  video: Video,\n  guide: BookOpen,\n  research: Users\n};\n\nconst categoryColors = {\n  communication: \"bg-blue-100 text-blue-800\",\n  discipline: \"bg-red-100 text-red-800\",\n  development: \"bg-green-100 text-green-800\",\n  education: \"bg-purple-100 text-purple-800\",\n  health: \"bg-pink-100 text-pink-800\",\n  creativity: \"bg-orange-100 text-orange-800\",\n  social_skills: \"bg-indigo-100 text-indigo-800\",\n  emotional_intelligence: \"bg-teal-100 text-teal-800\",\n  independence: \"bg-yellow-100 text-yellow-800\",\n  confidence: \"bg-emerald-100 text-emerald-800\",\n  safety: \"bg-gray-100 text-gray-800\",\n  nutrition: \"bg-lime-100 text-lime-800\"\n};\n\nconst difficultyColors = {\n  beginner: \"bg-green-50 text-green-700 border-green-200\",\n  intermediate: \"bg-yellow-50 text-yellow-700 border-yellow-200\",\n  advanced: \"bg-red-50 text-red-700 border-red-200\"\n};\n\nexport default function ResourceCard({ resource, isBookmarked, onBookmark, onSelect }) {\n  const TypeIcon = typeIcons[resource.type] || FileText;\n\n  const handleBookmarkClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onBookmark(isBookmarked);\n  };\n  \n  const handleCardClick = () => {\n    if (onSelect) onSelect();\n  };\n\n  const isExternalVideo = resource.type === 'video' && resource.video_url;\n\n  const CardContentComponent = (\n    <Card className=\"flex flex-col h-full overflow-hidden transition-all duration-300 cursor-pointer\">\n      <div className=\"relative flex-shrink-0\">\n        {resource.thumbnail_url && (\n          <LazyImage\n            src={resource.thumbnail_url}\n            alt={resource.title}\n            className=\"w-full h-40 object-cover\"\n            skeletonClassName=\"w-full h-40 bg-gray-200\"\n          />\n        )}\n        <div className=\"absolute top-2 right-2 flex gap-2\">\n          {resource.is_sponsored && (\n            <Badge className=\"bg-yellow-100 text-yellow-800\">\n              <Star className=\"w-3 h-3 mr-1\" />\n              Sponsored\n            </Badge>\n          )}\n          {resource.is_premium && (\n            <Badge className=\"bg-blue-100 text-blue-800\">\n              <Lock className=\"w-3 h-3 mr-1\" />\n              Premium\n            </Badge>\n          )}\n        </div>\n      </div>\n      <CardHeader className=\"pb-4 pt-4\">\n        <div className=\"flex items-start justify-between mb-2\">\n          <div className=\"flex items-center gap-2\">\n            <TypeIcon className=\"w-5 h-5\" style={{color: 'var(--teachmo-sage)'}} />\n            <Badge className={categoryColors[resource.category] || \"bg-gray-100 text-gray-800\"}>\n              {resource.category?.replace(/_/g, ' ')}\n            </Badge>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleBookmarkClick}\n            className=\"text-gray-400 hover:text-gray-600 p-1 z-10\"\n          >\n            {isBookmarked ? (\n              <BookmarkCheck className=\"w-5 h-5 text-blue-600\" />\n            ) : (\n              <Bookmark className=\"w-5 h-5\" />\n            )}\n          </Button>\n        </div>\n        \n        <h3 className=\"font-bold text-lg text-gray-900 leading-tight mb-2\">\n          {resource.title}\n        </h3>\n        \n        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n          {resource.duration && (\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"w-4 h-4\" />\n              <span>{resource.duration}</span>\n            </div>\n          )}\n          {resource.age_range && (\n            <div className=\"flex items-center gap-1\">\n              <Users className=\"w-4 h-4\" />\n              <span>Ages {resource.age_range.min_age}-{resource.age_range.max_age}</span>\n            </div>\n          )}\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"flex-grow px-4 pb-4\">\n        <p className=\"text-gray-600 text-sm leading-relaxed line-clamp-3\">\n          {resource.description}\n        </p>\n\n        <div className=\"flex flex-wrap gap-2 mt-4\">\n          {resource.difficulty && (\n            <Badge variant=\"outline\" className={difficultyColors[resource.difficulty]}>\n              {resource.difficulty}\n            </Badge>\n          )}\n          {resource.author && (\n            <Badge variant=\"outline\" className=\"text-xs\">\n              {resource.author}\n            </Badge>\n          )}\n        </div>\n\n        {resource.tags && resource.tags.length > 0 && (\n          <div className=\"flex flex-wrap gap-1 mt-2\">\n            {resource.tags.slice(0, 3).map((tag, index) => (\n              <Badge key={index} variant=\"outline\" className=\"text-xs bg-gray-50\">\n                {tag}\n              </Badge>\n            ))}\n            {resource.tags.length > 3 && (\n              <Badge variant=\"outline\" className=\"text-xs bg-gray-50\">\n                +{resource.tags.length - 3} more\n              </Badge>\n            )}\n          </div>\n        )}\n      </CardContent>\n\n      <CardFooter className=\"mt-auto px-4 pt-4 border-t border-gray-100 bg-white\">\n        <div className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n            <Eye className=\"w-4 h-4\" />\n            <span>\n              {resource.is_premium ? \"Premium only\" : (isExternalVideo ? \"Click to watch\" : \"Click to read\")}\n            </span>\n          </div>\n          {resource.type === 'video' && !resource.is_premium && (\n            <div className=\"flex items-center gap-2 text-blue-600 font-semibold\">\n                <Play className=\"w-4 h-4\" />\n                Watch Now\n            </div>\n          )}\n          {isExternalVideo && (\n            <ExternalLink className=\"w-4 h-4 text-gray-400\" />\n          )}\n        </div>\n      </CardFooter>\n    </Card>\n  );\n\n  let linkWrapper;\n\n  if (resource.is_premium) {\n    linkWrapper = <Link to={createPageUrl('Upgrade')} className=\"h-full flex\">{CardContentComponent}</Link>;\n  } else if (isExternalVideo) {\n    linkWrapper = <a href={resource.video_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"h-full flex\" onClick={handleCardClick}>{CardContentComponent}</a>;\n  } else {\n    if (resource && resource.id) {\n      const detailUrl = createPageUrl('ResourceDetail') + `?id=${resource.id}`;\n      linkWrapper = <Link to={detailUrl} className=\"h-full flex\" onClick={handleCardClick}>{CardContentComponent}</Link>;\n    } else {\n      linkWrapper = <div className=\"h-full flex cursor-not-allowed\" title=\"Resource details not yet available\">{CardContentComponent}</div>;\n    }\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      whileHover={{ y: -4, boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)' }}\n      transition={{ duration: 0.2 }}\n      className={`h-full ${resource.is_premium ? 'opacity-80 hover:opacity-100' : ''}`}\n    >\n      {linkWrapper}\n    </motion.div>\n  );\n}\n","import React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { SlidersHorizontal, X } from 'lucide-react';\n\nconst categories = [\n  'communication', 'discipline', 'development', 'education', \n  'health', 'creativity', 'social_skills', 'emotional_intelligence',\n  'independence', 'confidence', 'safety', 'nutrition'\n];\n\nconst types = ['article', 'video', 'guide', 'research'];\nconst difficulties = ['beginner', 'intermediate', 'advanced'];\n\nconst FilterSection = ({ title, options, selected, onSelect, multiSelect = false }) => (\n  <div className=\"mb-4\">\n    <h4 className=\"font-semibold text-sm text-gray-700 mb-2\">{title}</h4>\n    <div className=\"flex flex-wrap gap-2\">\n      {options.map(option => {\n        const isSelected = multiSelect ? (selected || []).includes(option) : selected === option;\n        return (\n          <Button\n            key={option}\n            variant={isSelected ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => onSelect(option)}\n            className={`capitalize transition-all duration-200 rounded-full h-8 text-xs ${\n              isSelected ? 'bg-blue-600 text-white shadow-md' : 'bg-white hover:bg-gray-100'\n            }`}\n          >\n            {option.replace(/_/g, ' ')}\n          </Button>\n        );\n      })}\n    </div>\n  </div>\n);\n\nexport default function LibraryFilters({ currentFilters = {}, onFilterChange, onReset }) {\n  // Ensure currentFilters has default values to prevent undefined access\n  const filters = {\n    categories: [],\n    types: [],\n    difficulty: null,\n    ...currentFilters\n  };\n\n  const handleCategoryChange = (category) => {\n    const newCategories = (filters.categories || []).includes(category)\n      ? filters.categories.filter(c => c !== category)\n      : [...(filters.categories || []), category];\n    onFilterChange('categories', newCategories);\n  };\n\n  const handleTypeChange = (type) => {\n    const newTypes = (filters.types || []).includes(type)\n      ? filters.types.filter(t => t !== type)\n      : [...(filters.types || []), type];\n    onFilterChange('types', newTypes);\n  };\n\n  const handleDifficultyChange = (difficulty) => {\n    const newDifficulty = filters.difficulty === difficulty ? null : difficulty;\n    onFilterChange('difficulty', newDifficulty);\n  };\n\n  const hasActiveFilters = \n    (filters.categories || []).length > 0 || \n    (filters.types || []).length > 0 || \n    filters.difficulty;\n\n  return (\n    <Card className=\"mb-6 bg-white/70 backdrop-blur-sm border-0 shadow-md\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <SlidersHorizontal className=\"w-5 h-5 text-gray-700\" />\n            <h3 className=\"text-lg font-bold text-gray-800\">Filter Resources</h3>\n          </div>\n          {hasActiveFilters && (\n            <Button variant=\"ghost\" size=\"sm\" onClick={onReset} className=\"text-sm text-blue-600 hover:text-blue-700\">\n              <X className=\"w-4 h-4 mr-1\" />\n              Reset All\n            </Button>\n          )}\n        </div>\n        \n        <FilterSection \n          title=\"Categories\" \n          options={categories} \n          selected={filters.categories} \n          onSelect={handleCategoryChange} \n          multiSelect \n        />\n        \n        <FilterSection \n          title=\"Content Types\" \n          options={types} \n          selected={filters.types} \n          onSelect={handleTypeChange} \n          multiSelect \n        />\n        \n        <FilterSection \n          title=\"Difficulty\" \n          options={difficulties} \n          selected={filters.difficulty} \n          onSelect={handleDifficultyChange} \n        />\n\n        {hasActiveFilters && (\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <span className=\"text-sm font-medium text-gray-700\">Active Filters:</span>\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {(filters.categories || []).map(category => (\n                <Badge key={category} variant=\"secondary\" className=\"bg-blue-100 text-blue-800\">\n                  {category.replace(/_/g, ' ')}\n                </Badge>\n              ))}\n              {(filters.types || []).map(type => (\n                <Badge key={type} variant=\"secondary\" className=\"bg-purple-100 text-purple-800\">\n                  {type}\n                </Badge>\n              ))}\n              {filters.difficulty && (\n                <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800\">\n                  {filters.difficulty}\n                </Badge>\n              )}\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}","import React from 'react';\n\nexport default function ShortsCard({ id, topic, thumbnail_url, duration_s, onOpen }) {\n  return (\n    <button\n      onClick={() => onOpen(id)}\n      className=\"flex flex-col w-28 mr-3 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-xl\"\n    >\n      <div className=\"aspect-[9/16] w-28 bg-gray-200 rounded-xl overflow-hidden shadow-md relative\">\n        {thumbnail_url ? (\n          <img \n            src={thumbnail_url} \n            alt=\"\" \n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          <div className=\"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center\">\n            <span className=\"text-white text-xs font-semibold\">SHORT</span>\n          </div>\n        )}\n        \n        {duration_s && (\n          <div className=\"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1 rounded\">\n            {Math.floor(duration_s / 60)}:{(duration_s % 60).toString().padStart(2, '0')}\n          </div>\n        )}\n      </div>\n      \n      <span className=\"mt-2 text-xs line-clamp-2 text-left text-gray-700 leading-tight\">\n        {topic}\n      </span>\n    </button>\n  );\n}\n\nexport { ShortsCard };\n","import React, { useEffect, useRef, useState } from 'react';\n\nconst formatTime = (s) => {\n  const mm = Math.floor(s / 60).toString().padStart(2, '0');\n  const ss = Math.floor(s % 60).toString().padStart(2, '0');\n  return `${mm}:${ss}`;\n};\n\nexport default function ShortsPlayer({ \n  src, \n  poster, \n  vttCaptionUrl, \n  autoPlay = true, \n  onEnded,\n  shortId \n}) {\n  const videoRef = useRef(null);\n  const [ready, setReady] = useState(false);\n  const [muted, setMuted] = useState(true);\n  const [speed, setSpeed] = useState(1);\n  const [progress, setProgress] = useState({ current: 0, total: 0 });\n  const [cc, setCc] = useState(!!vttCaptionUrl);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    video.src = src;\n    video.oncanplay = () => setReady(true);\n    video.onloadedmetadata = () => {\n      setProgress(prev => ({ ...prev, total: video.duration }));\n    };\n\n    return () => {\n      if (video) {\n        video.src = '';\n      }\n    };\n  }, [src]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const onTimeUpdate = () => {\n      setProgress({ current: video.currentTime, total: video.duration || 0 });\n    };\n\n    const onPlay = () => setIsPlaying(true);\n    const onPause = () => setIsPlaying(false);\n    const onEnded = () => {\n      setIsPlaying(false);\n      onEnded?.();\n    };\n\n    video.addEventListener('timeupdate', onTimeUpdate);\n    video.addEventListener('play', onPlay);\n    video.addEventListener('pause', onPause);\n    video.addEventListener('ended', onEnded);\n\n    return () => {\n      video.removeEventListener('timeupdate', onTimeUpdate);\n      video.removeEventListener('play', onPlay);\n      video.removeEventListener('pause', onPause);\n      video.removeEventListener('ended', onEnded);\n    };\n  }, [onEnded]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (video) video.playbackRate = speed;\n  }, [speed]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (video) video.muted = muted;\n  }, [muted]);\n\n  const togglePlay = () => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    if (video.paused) {\n      video.play();\n    } else {\n      video.pause();\n    }\n  };\n\n  const handleSeek = (e) => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const rect = e.currentTarget.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const newTime = (clickX / rect.width) * video.duration;\n    video.currentTime = newTime;\n  };\n\n  return (\n    <div className=\"relative h-[80vh] w-full max-w-[420px] mx-auto rounded-2xl overflow-hidden shadow-xl bg-black\">\n      <div className=\"absolute inset-0\">\n        <video\n          ref={videoRef}\n          className=\"h-full w-full object-cover\"\n          playsInline\n          autoPlay={autoPlay}\n          muted={muted}\n          poster={poster}\n          aria-label=\"Teachmo Short video\"\n        >\n          {vttCaptionUrl && (\n            <track\n              label=\"English\"\n              kind=\"subtitles\"\n              srcLang=\"en\"\n              src={vttCaptionUrl}\n              default={cc}\n            />\n          )}\n        </video>\n      </div>\n\n      {/* Top badges */}\n      <div className=\"absolute top-2 left-2 flex gap-2\">\n        <span className=\"text-xs bg-white/80 text-gray-900 px-2 py-1 rounded\">\n          SHORT\n        </span>\n        <span className=\"text-xs bg-white/60 text-gray-900 px-2 py-1 rounded\">\n          {formatTime(progress.total || 60)}\n        </span>\n      </div>\n\n      {/* Controls */}\n      <div className=\"absolute bottom-0 inset-x-0 p-3 bg-gradient-to-t from-black/70 to-transparent text-white\">\n        {/* Progress bar */}\n        <div \n          className=\"h-1 w-full bg-white/30 rounded cursor-pointer mb-3\"\n          onClick={handleSeek}\n        >\n          <div\n            className=\"h-1 bg-white rounded transition-all\"\n            style={{\n              width: progress.total ? `${(progress.current / progress.total) * 100}%` : '0%'\n            }}\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between text-sm\">\n          <button\n            onClick={togglePlay}\n            className=\"px-3 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors\"\n            aria-label={isPlaying ? 'Pause' : 'Play'}\n          >\n            {isPlaying ? '‚è∏' : '‚ñ∂'}\n          </button>\n\n          <button\n            onClick={() => setMuted(m => !m)}\n            className=\"px-3 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors\"\n            aria-pressed={muted}\n          >\n            {muted ? 'üîá' : 'üîä'}\n          </button>\n\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-xs\">Speed</span>\n            <select\n              value={speed}\n              onChange={(e) => setSpeed(parseFloat(e.target.value))}\n              className=\"bg-white/20 rounded px-2 py-1 text-xs\"\n            >\n              <option value={0.75}>0.75√ó</option>\n              <option value={1}>1√ó</option>\n              <option value={1.25}>1.25√ó</option>\n              <option value={1.5}>1.5√ó</option>\n            </select>\n          </div>\n\n          {vttCaptionUrl && (\n            <button\n              onClick={() => setCc(c => !c)}\n              className=\"px-3 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors\"\n            >\n              CC {cc ? 'On' : 'Off'}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {!ready && (\n        <div className=\"absolute inset-0 grid place-items-center text-white/80\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin w-8 h-8 border-2 border-white/30 border-t-white rounded-full mx-auto mb-2\"></div>\n            Loading...\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { shortsTelemetry } from '@/api/functions';\n\nexport default function ShortsFeedbackBar({ shortId }) {\n  const [state, setState] = useState({ helpful: null, tried: null });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const sendFeedback = async (updates) => {\n    if (isSubmitting) return;\n    \n    setIsSubmitting(true);\n    try {\n      const newState = { ...state, ...updates };\n      setState(newState);\n      \n      await shortsTelemetry({\n        endpoint: `feedback`,\n        shortId,\n        body: newState\n      });\n    } catch (error) {\n      console.error('Error sending feedback:', error);\n      // Revert state on error\n      setState(state);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <Button\n        variant={state.helpful === true ? \"default\" : \"outline\"}\n        size=\"sm\"\n        onClick={() => sendFeedback({ helpful: true })}\n        disabled={isSubmitting}\n        className={state.helpful === true ? \"bg-green-600 hover:bg-green-700\" : \"\"}\n      >\n        üëç Helpful\n      </Button>\n      \n      <Button\n        variant={state.helpful === false ? \"destructive\" : \"outline\"}\n        size=\"sm\"\n        onClick={() => sendFeedback({ helpful: false })}\n        disabled={isSubmitting}\n      >\n        üëé Not really\n      </Button>\n      \n      <Button\n        variant={state.tried === true ? \"default\" : \"outline\"}\n        size=\"sm\"\n        onClick={() => sendFeedback({ tried: true })}\n        disabled={isSubmitting}\n        className={state.tried === true ? \"bg-indigo-600 hover:bg-indigo-700\" : \"\"}\n      >\n        ‚úÖ Tried it\n      </Button>\n    </div>\n  );\n}\n\nexport { ShortsFeedbackBar };\n","import React, { useEffect, useState } from 'react';\nimport ShortsCard from './ShortsCard';\nimport ShortsPlayer from './ShortsPlayer';\nimport ShortsFeedbackBar from './ShortsFeedbackBar';\nimport { shortsRecommendations } from '@/api/functions';\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\nimport { X } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\n\nexport default function ShortsRail({ childId, topic, title = \"Recommended Shorts\" }) {\n  const [items, setItems] = useState([]);\n  const [openId, setOpenId] = useState(null);\n  const [activeShort, setActiveShort] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadRecommendations();\n  }, [childId, topic]);\n\n  const loadRecommendations = async () => {\n    try {\n      setIsLoading(true);\n      const params = new URLSearchParams();\n      if (childId) params.set('childId', childId);\n      if (topic) params.set('topic', topic);\n      params.set('limit', '12');\n\n      const { data } = await shortsRecommendations({ \n        query: params.toString() \n      });\n      \n      setItems(data || []);\n    } catch (error) {\n      console.error('Error loading shorts recommendations:', error);\n      setItems([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!openId) {\n      setActiveShort(null);\n      return;\n    }\n\n    const short = items.find(item => item.id === openId);\n    setActiveShort(short);\n  }, [openId, items]);\n\n  if (isLoading) {\n    return (\n      <section className=\"mt-6\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h3 className=\"text-sm font-semibold\">{title}</h3>\n        </div>\n        <div className=\"flex overflow-x-auto pb-2\">\n          {[1, 2, 3, 4].map(i => (\n            <div key={i} className=\"w-28 mr-3\">\n              <div className=\"aspect-[9/16] w-28 bg-gray-200 rounded-xl animate-pulse\"></div>\n              <div className=\"mt-2 h-8 bg-gray-200 rounded animate-pulse\"></div>\n            </div>\n          ))}\n        </div>\n      </section>\n    );\n  }\n\n  if (items.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"mt-6\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"text-sm font-semibold\">{title}</h3>\n        <a \n          href=\"/discover?tab=library&type=short\" \n          className=\"text-xs text-blue-600 hover:text-blue-800\"\n        >\n          See all\n        </a>\n      </div>\n      \n      <div className=\"flex overflow-x-auto pb-2 scrollbar-hide\">\n        {items.map(item => (\n          <ShortsCard\n            key={item.id}\n            id={item.id}\n            topic={item.topic}\n            thumbnail_url={item.thumbnail_url}\n            duration_s={item.duration_s}\n            onOpen={setOpenId}\n          />\n        ))}\n      </div>\n\n      {/* Modal */}\n      <Dialog open={!!activeShort} onOpenChange={() => setOpenId(null)}>\n        <DialogContent className=\"max-w-md p-0 overflow-hidden\">\n          {activeShort && (\n            <div className=\"relative\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"absolute top-2 right-2 z-10 bg-black/20 hover:bg-black/40 text-white rounded-full\"\n                onClick={() => setOpenId(null)}\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n              \n              <ShortsPlayer\n                shortId={activeShort.id}\n                src={activeShort.hls_url || activeShort.mp4_url || '/api/placeholder-video.mp4'}\n                poster={activeShort.thumbnail_url}\n                vttCaptionUrl={activeShort.captions_vtt_url}\n              />\n              \n              <div className=\"p-4 bg-white\">\n                <h4 className=\"font-semibold text-gray-900 mb-2\">{activeShort.topic}</h4>\n                <ShortsFeedbackBar shortId={activeShort.id} />\n                \n                {/* Why recommendations */}\n                {activeShort.why && activeShort.why.length > 0 && (\n                  <div className=\"mt-3 pt-3 border-t\">\n                    <p className=\"text-xs text-gray-500 mb-1\">Why this was recommended:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {activeShort.why.map((reason, idx) => (\n                        <span\n                          key={idx}\n                          className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\"\n                        >\n                          {reason.feature.replace('_', ' ')}: {reason.weight}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </section>\n  );\n}\n\nexport { ShortsRail };\n","import React, { useState, useEffect } from 'react';\nimport ShortsRail from '@/components/shorts/ShortsRail';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Button } from '@/components/ui/button';\nimport { Search, Filter } from 'lucide-react';\n\nexport default function ShortsDiscoverTab({ initialQuery = '', appliedFilters = {}, onFiltersChange }) {\n  const [searchTerm, setSearchTerm] = useState(initialQuery);\n  const [topicFilter, setTopicFilter] = useState(appliedFilters.topic || '');\n  const [patternFilter, setPatternFilter] = useState(appliedFilters.pattern || '');\n  \n  useEffect(() => {\n    // Notify parent of filter changes\n    onFiltersChange?.({\n      topic: topicFilter,\n      pattern: patternFilter,\n      search: searchTerm\n    });\n  }, [searchTerm, topicFilter, patternFilter, onFiltersChange]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <Input\n              placeholder=\"Search shorts by topic...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n          \n          <div className=\"flex gap-2\">\n            <Select value={topicFilter} onValueChange={setTopicFilter}>\n              <SelectTrigger className=\"w-40\">\n                <SelectValue placeholder=\"All Topics\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value={null}>All Topics</SelectItem>\n                <SelectItem value=\"math\">Math</SelectItem>\n                <SelectItem value=\"reading\">Reading</SelectItem>\n                <SelectItem value=\"science\">Science</SelectItem>\n                <SelectItem value=\"social\">Social Skills</SelectItem>\n              </SelectContent>\n            </Select>\n\n            <Select value={patternFilter} onValueChange={setPatternFilter}>\n              <SelectTrigger className=\"w-40\">\n                <SelectValue placeholder=\"All Patterns\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value={null}>All Patterns</SelectItem>\n                <SelectItem value=\"playful\">Playful</SelectItem>\n                <SelectItem value=\"structured\">Structured</SelectItem>\n                <SelectItem value=\"co_reg\">Co-Regulation</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n      </div>\n\n      {/* Popular Shorts */}\n      <ShortsRail \n        title=\"Popular Shorts\"\n        topic={topicFilter || searchTerm}\n      />\n\n      {/* Recent Shorts */}\n      <ShortsRail \n        title=\"Recently Added\"\n        topic={topicFilter || searchTerm}\n      />\n\n      {/* By Category */}\n      {!topicFilter && !searchTerm && (\n        <>\n          <ShortsRail title=\"Math & Numbers\" topic=\"math\" />\n          <ShortsRail title=\"Reading & Language\" topic=\"reading\" />\n          <ShortsRail title=\"Science & Discovery\" topic=\"science\" />\n        </>\n      )}\n    </div>\n  );\n}","\nimport React, { useState, useEffect } from 'react';\nimport { LibraryResource } from '@/api/entities';\nimport { useApi } from '@/components/hooks/useApi';\nimport { Input } from '@/components/ui/input';\nimport { Search } from 'lucide-react';\nimport { ListLoadingSkeleton, ErrorState, EmptyState } from '@/components/shared/LoadingStates';\nimport ResourceCard from '@/components/library/ResourceCard';\nimport LibraryFilters from '@/components/library/LibraryFilters';\nimport { useDebounce } from '@/components/hooks/useDebounce';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs'; // New imports\nimport ShortsDiscoverTab from './ShortsDiscoverTab'; // Assuming ShortsDiscoverTab is in the same directory\n\nexport default function LibraryTab({ initialQuery }) {\n  const [resources, setResources] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(initialQuery || '');\n  const [filters, setFilters] = useState({\n    categories: [],\n    types: [],\n    difficulty: null\n  });\n  const [activeTab, setActiveTab] = useState('library'); // State for managing active tab\n\n  const debouncedSearchTerm = useDebounce(searchTerm, 300);\n  const api = useApi({ context: 'library' });\n\n  // Only fetch resources for the 'library' tab\n  useEffect(() => {\n    if (activeTab === 'library') {\n      fetchResources();\n    }\n  }, [debouncedSearchTerm, filters, activeTab]);\n\n  const fetchResources = async () => {\n    const query = {\n      ...(debouncedSearchTerm && { title: { $ilike: `%${debouncedSearchTerm}%` } }),\n      ...buildFilterQuery(filters),\n    };\n    \n    const data = await api.execute(\n      () => LibraryResource.filter(query, '-created_date', 50),\n      { key: 'resources', errorContext: 'loading resources' }\n    );\n    if (data) {\n      setResources(data);\n    }\n  };\n\n  const buildFilterQuery = (filterState) => {\n    const query = {};\n    \n    if (filterState.categories && filterState.categories.length > 0) {\n      query.category = { $in: filterState.categories };\n    }\n    \n    if (filterState.types && filterState.types.length > 0) {\n      query.type = { $in: filterState.types };\n    }\n    \n    if (filterState.difficulty) {\n      query.difficulty = filterState.difficulty;\n    }\n    \n    return query;\n  };\n\n  const handleFilterChange = (filterType, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [filterType]: value\n    }));\n  };\n\n  const handleResetFilters = () => {\n    setFilters({\n      categories: [],\n      types: [],\n      difficulty: null\n    });\n  };\n\n  const tabContentClasses = 'mt-4'; // Define a class for tab content spacing\n\n  return (\n    <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n      <TabsList className=\"grid w-full grid-cols-2\">\n        <TabsTrigger value=\"library\">Library Resources</TabsTrigger>\n        <TabsTrigger value=\"shorts\">Teachmo Shorts</TabsTrigger>\n      </TabsList>\n\n      <TabsContent value=\"library\" className={tabContentClasses}>\n        <div className=\"space-y-6\">\n          <div className=\"sticky top-0 z-10 bg-inherit py-4\">\n            <div className=\"relative mb-4\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500\" />\n              <Input\n                placeholder=\"Search library resources...\"\n                className=\"pl-9\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            <LibraryFilters \n              currentFilters={filters} \n              onFilterChange={handleFilterChange} \n              onReset={handleResetFilters}\n            />\n          </div>\n\n          {api.isLoading('resources') ? (\n            <ListLoadingSkeleton items={9} cardType=\"resource\" />\n          ) : api.hasError('resources') ? (\n            <ErrorState error={api.getError('resources')} onRetry={fetchResources} />\n          ) : resources.length === 0 ? (\n            <EmptyState\n              icon={Search}\n              title=\"No Resources Found\"\n              description=\"Try adjusting your search or filters to find helpful resources.\"\n            />\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {resources.map(resource => (\n                <ResourceCard key={resource.id} resource={resource} />\n              ))}\n            </div>\n          )}\n        </div>\n      </TabsContent>\n\n      <TabsContent value=\"shorts\" className={tabContentClasses}>\n        <div className=\"space-y-6\">\n          <ShortsDiscoverTab \n            initialQuery={initialQuery}\n            appliedFilters={filters} // Pass current filters to ShortsDiscoverTab\n            onFiltersChange={handleFilterChange} // Pass filter change handler to ShortsDiscoverTab\n          />\n        </div>\n      </TabsContent>\n    </Tabs>\n  );\n}\n"],"names":["__iconNode","BookmarkCheck","createLucideIcon","FileText","Play","Video","LazyImage","src","alt","className","skeletonClassName","isLoaded","setIsLoaded","useState","isInView","setIsInView","imgRef","useRef","useEffect","observer","entry","jsx","Skeleton","typeIcons","BookOpen","Users","categoryColors","difficultyColors","ResourceCard","resource","isBookmarked","onBookmark","onSelect","TypeIcon","handleBookmarkClick","e","handleCardClick","isExternalVideo","CardContentComponent","jsxs","Card","Badge","Star","Lock","CardHeader","_a","Button","Bookmark","Clock","CardContent","tag","index","CardFooter","Eye","ExternalLink","linkWrapper","Link","createPageUrl","detailUrl","motion","categories","types","difficulties","FilterSection","title","options","selected","multiSelect","option","isSelected","LibraryFilters","currentFilters","onFilterChange","onReset","filters","handleCategoryChange","category","newCategories","c","handleTypeChange","type","newTypes","t","handleDifficultyChange","difficulty","newDifficulty","hasActiveFilters","SlidersHorizontal","X","ShortsCard","id","topic","thumbnail_url","duration_s","onOpen","formatTime","s","mm","ss","ShortsPlayer","poster","vttCaptionUrl","autoPlay","onEnded","shortId","videoRef","ready","setReady","muted","setMuted","speed","setSpeed","progress","setProgress","cc","setCc","isPlaying","setIsPlaying","video","prev","onTimeUpdate","onPlay","onPause","togglePlay","handleSeek","rect","newTime","m","ShortsFeedbackBar","state","setState","isSubmitting","setIsSubmitting","sendFeedback","updates","newState","shortsTelemetry","error","ShortsRail","childId","items","setItems","openId","setOpenId","activeShort","setActiveShort","isLoading","setIsLoading","loadRecommendations","params","data","shortsRecommendations","short","item","i","Dialog","DialogContent","reason","idx","ShortsDiscoverTab","initialQuery","appliedFilters","onFiltersChange","searchTerm","setSearchTerm","topicFilter","setTopicFilter","patternFilter","setPatternFilter","Search","Input","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Fragment","LibraryTab","resources","setResources","setFilters","activeTab","setActiveTab","debouncedSearchTerm","useDebounce","api","useApi","fetchResources","query","buildFilterQuery","LibraryResource","filterState","handleFilterChange","filterType","value","handleResetFilters","tabContentClasses","Tabs","TabsList","TabsTrigger","TabsContent","ListLoadingSkeleton","ErrorState","EmptyState"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}
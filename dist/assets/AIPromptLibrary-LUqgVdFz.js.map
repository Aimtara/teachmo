{"version":3,"file":"AIPromptLibrary-LUqgVdFz.js","sources":["../../src/pages/AIPromptLibrary.jsx"],"sourcesContent":["import { useMemo, useState } from 'react';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport ProtectedRoute from '@/components/shared/ProtectedRoute';\nimport { Card, CardHeader, CardContent, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { API_BASE_URL } from '@/config/api';\nimport { nhost } from '@/lib/nhostClient';\n\nasync function fetchJson(url, opts = {}) {\n  const response = await fetch(url, opts);\n  if (!response.ok) {\n    const text = await response.text();\n    throw new Error(text || 'Request failed');\n  }\n  return response.json();\n}\n\nexport default function AIPromptLibrary() {\n  const [selectedPromptId, setSelectedPromptId] = useState(null);\n  const [newPrompt, setNewPrompt] = useState({ name: '', description: '', content: '' });\n  const [versionContent, setVersionContent] = useState('');\n  const [promptDetails, setPromptDetails] = useState({ name: '', description: '', isArchived: false });\n\n  const headersQuery = useQuery({\n    queryKey: ['ai-prompts-token'],\n    queryFn: async () => {\n      const token = await nhost.auth.getAccessToken();\n      return {\n        'Content-Type': 'application/json',\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\n      };\n    },\n  });\n\n  const promptsQuery = useQuery({\n    queryKey: ['ai-prompts-admin'],\n    enabled: Boolean(headersQuery.data),\n    queryFn: async () => fetchJson(`${API_BASE_URL}/admin/ai/prompts`, { headers: headersQuery.data }),\n  });\n\n  const versionsQuery = useQuery({\n    queryKey: ['ai-prompts-versions', selectedPromptId],\n    enabled: Boolean(headersQuery.data && selectedPromptId),\n    queryFn: async () =>\n      fetchJson(`${API_BASE_URL}/admin/ai/prompts/${selectedPromptId}/versions`, { headers: headersQuery.data }),\n    onSuccess: (data) => {\n      if (data?.prompt) {\n        setPromptDetails({\n          name: data.prompt.name || '',\n          description: data.prompt.description || '',\n          isArchived: Boolean(data.prompt.is_archived),\n        });\n      }\n      const active = (data?.versions || []).find((v) => v.is_active);\n      setVersionContent(active?.content || '');\n    },\n  });\n\n  const createPromptMutation = useMutation({\n    mutationFn: async () => {\n      return fetchJson(`${API_BASE_URL}/admin/ai/prompts`, {\n        method: 'POST',\n        headers: headersQuery.data,\n        body: JSON.stringify({\n          name: newPrompt.name,\n          description: newPrompt.description,\n          content: newPrompt.content,\n        }),\n      });\n    },\n    onSuccess: (data) => {\n      promptsQuery.refetch();\n      setSelectedPromptId(data?.id || null);\n      setNewPrompt({ name: '', description: '', content: '' });\n    },\n  });\n\n  const updatePromptMutation = useMutation({\n    mutationFn: async () => {\n      return fetchJson(`${API_BASE_URL}/admin/ai/prompts/${selectedPromptId}`, {\n        method: 'PUT',\n        headers: headersQuery.data,\n        body: JSON.stringify({\n          name: promptDetails.name,\n          description: promptDetails.description,\n          isArchived: promptDetails.isArchived,\n        }),\n      });\n    },\n    onSuccess: () => {\n      promptsQuery.refetch();\n      versionsQuery.refetch();\n    },\n  });\n\n  const createVersionMutation = useMutation({\n    mutationFn: async () => {\n      return fetchJson(`${API_BASE_URL}/admin/ai/prompts/${selectedPromptId}/versions`, {\n        method: 'POST',\n        headers: headersQuery.data,\n        body: JSON.stringify({\n          content: versionContent,\n          setActive: true,\n        }),\n      });\n    },\n    onSuccess: () => {\n      versionsQuery.refetch();\n      promptsQuery.refetch();\n    },\n  });\n\n  const promptList = useMemo(() => promptsQuery.data?.prompts || [], [promptsQuery.data]);\n\n  return (\n    <ProtectedRoute allowedRoles={['system_admin', 'admin']}>\n      <div className=\"p-6 space-y-6\">\n        <header className=\"space-y-2\">\n          <h1 className=\"text-2xl font-semibold\">AI Prompt Library</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            Create, version, and manage prompts used across Teachmo's AI features. Active versions can be promoted\n            instantly for tenant-safe rollouts.\n          </p>\n        </header>\n\n        <div className=\"grid gap-6 lg:grid-cols-[1.2fr_2fr]\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Prompt Catalog</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              {promptList.length === 0 ? (\n                <p className=\"text-sm text-muted-foreground\">No prompts yet. Create the first prompt to get started.</p>\n              ) : (\n                <ul className=\"space-y-2\">\n                  {promptList.map((prompt) => (\n                    <li key={prompt.id}>\n                      <button\n                        type=\"button\"\n                        onClick={() => setSelectedPromptId(prompt.id)}\n                        className={`w-full text-left border rounded-lg p-3 transition ${\n                          selectedPromptId === prompt.id ? 'border-blue-500 bg-blue-50' : 'border-gray-200'\n                        }`}\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <div className=\"font-medium\">{prompt.name}</div>\n                            <div className=\"text-xs text-muted-foreground\">{prompt.description || 'No description'}</div>\n                          </div>\n                          <div className=\"text-xs text-muted-foreground\">\n                            v{prompt.version ?? '—'} {prompt.is_archived ? '• Archived' : ''}\n                          </div>\n                        </div>\n                      </button>\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </CardContent>\n          </Card>\n\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Create New Prompt</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div>\n                  <div className=\"text-xs text-muted-foreground mb-1\">Name</div>\n                  <Input\n                    value={newPrompt.name}\n                    onChange={(e) => setNewPrompt((prev) => ({ ...prev, name: e.target.value }))}\n                    placeholder=\"e.g., Attendance summary\"\n                  />\n                </div>\n                <div>\n                  <div className=\"text-xs text-muted-foreground mb-1\">Description</div>\n                  <Input\n                    value={newPrompt.description}\n                    onChange={(e) => setNewPrompt((prev) => ({ ...prev, description: e.target.value }))}\n                    placeholder=\"Short description for admins\"\n                  />\n                </div>\n                <div>\n                  <div className=\"text-xs text-muted-foreground mb-1\">Prompt content</div>\n                  <Textarea\n                    value={newPrompt.content}\n                    onChange={(e) => setNewPrompt((prev) => ({ ...prev, content: e.target.value }))}\n                    rows={6}\n                    placeholder=\"You are a helpful assistant...\"\n                  />\n                </div>\n                <Button\n                  onClick={() => createPromptMutation.mutate()}\n                  disabled={!newPrompt.name || !newPrompt.content || createPromptMutation.isPending}\n                >\n                  {createPromptMutation.isPending ? 'Creating…' : 'Create prompt'}\n                </Button>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Selected Prompt</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {!selectedPromptId ? (\n                  <p className=\"text-sm text-muted-foreground\">Select a prompt to edit or add versions.</p>\n                ) : (\n                  <>\n                    <div className=\"grid gap-3 md:grid-cols-2\">\n                      <div>\n                        <div className=\"text-xs text-muted-foreground mb-1\">Name</div>\n                        <Input\n                          value={promptDetails.name}\n                          onChange={(e) => setPromptDetails((prev) => ({ ...prev, name: e.target.value }))}\n                        />\n                      </div>\n                      <div>\n                        <div className=\"text-xs text-muted-foreground mb-1\">Description</div>\n                        <Input\n                          value={promptDetails.description}\n                          onChange={(e) => setPromptDetails((prev) => ({ ...prev, description: e.target.value }))}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-3 text-sm\">\n                      <label className=\"flex items-center gap-2\">\n                        <input\n                          type=\"checkbox\"\n                          checked={promptDetails.isArchived}\n                          onChange={(e) => setPromptDetails((prev) => ({ ...prev, isArchived: e.target.checked }))}\n                        />\n                        Archive prompt\n                      </label>\n                      <Button\n                        variant=\"secondary\"\n                        onClick={() => updatePromptMutation.mutate()}\n                        disabled={updatePromptMutation.isPending}\n                      >\n                        {updatePromptMutation.isPending ? 'Saving…' : 'Save details'}\n                      </Button>\n                    </div>\n\n                    <div>\n                      <div className=\"text-xs text-muted-foreground mb-1\">New version content</div>\n                      <Textarea\n                        value={versionContent}\n                        onChange={(e) => setVersionContent(e.target.value)}\n                        rows={8}\n                      />\n                      <div className=\"mt-2 flex justify-end\">\n                        <Button\n                          onClick={() => createVersionMutation.mutate()}\n                          disabled={!versionContent || createVersionMutation.isPending}\n                        >\n                          {createVersionMutation.isPending ? 'Publishing…' : 'Publish new version'}\n                        </Button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <div className=\"text-xs text-muted-foreground mb-2\">Version history</div>\n                      {versionsQuery.data?.versions?.length ? (\n                        <ul className=\"space-y-2 text-sm\">\n                          {versionsQuery.data.versions.map((version) => (\n                            <li key={version.id} className=\"border rounded-lg p-2\">\n                              <div className=\"flex justify-between\">\n                                <div>v{version.version}</div>\n                                <div className=\"text-xs text-muted-foreground\">\n                                  {version.is_active ? 'Active' : 'Archived'} ·{' '}\n                                  {version.created_at ? new Date(version.created_at).toLocaleString() : '—'}\n                                </div>\n                              </div>\n                            </li>\n                          ))}\n                        </ul>\n                      ) : (\n                        <p className=\"text-sm text-muted-foreground\">No versions recorded yet.</p>\n                      )}\n                    </div>\n                  </>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":["fetchJson","url","opts","response","text","AIPromptLibrary","selectedPromptId","setSelectedPromptId","useState","newPrompt","setNewPrompt","versionContent","setVersionContent","promptDetails","setPromptDetails","headersQuery","useQuery","token","nhost","promptsQuery","API_BASE_URL","versionsQuery","data","active","v","createPromptMutation","useMutation","updatePromptMutation","createVersionMutation","promptList","useMemo","_a","jsx","ProtectedRoute","jsxs","Card","CardHeader","CardTitle","CardContent","prompt","Input","e","prev","Textarea","Button","Fragment","_b","version"],"mappings":"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"}
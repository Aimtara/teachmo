{"version":3,"file":"TeacherAssignments-B7qCeDx1.js","sources":["../../src/components/teacher/AssignmentsView.jsx","../../src/pages/TeacherAssignments.jsx"],"sourcesContent":["import React from \"react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\n\n/**\n * Temporary stub to unblock build.\n * TODO: implement real assignment listing + CRUD.\n */\nexport default function AssignmentsView({ classData, currentUser }) {\n  const courseName = classData?.course?.name || classData?.course?.title || \"This class\";\n\n  return (\n    <Card>\n      <CardContent className=\"p-4 space-y-3\">\n        <div>\n          <div className=\"text-lg font-semibold\">Assignments</div>\n          <div className=\"text-sm opacity-70\">\n            {courseName} • Students: {classData?.studentCount ?? \"—\"}\n          </div>\n        </div>\n\n        <div className=\"text-sm\">\n          AssignmentsView is currently missing from the codebase. This placeholder keeps builds green\n          while the real UI/API wiring is implemented.\n        </div>\n\n        <div className=\"flex gap-2\">\n          <Button size=\"sm\" disabled>\n            Create Assignment\n          </Button>\n          <Button size=\"sm\" variant=\"outline\" disabled>\n            Import / Sync\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport ProtectedRoute from '@/components/shared/ProtectedRoute';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { BookOpen, Calendar } from 'lucide-react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { createPageUrl } from '@/utils';\nimport { useAuth } from '@/components/hooks/useAuth';\nimport { Course, Enrollment } from '@/api/entities';\nimport AssignmentsView from '@/components/teacher/AssignmentsView';\n\n/**\n * TeacherAssignments page\n *\n * Lists assignments for the teacher's classes. If a specific course_id is provided\n * via query param, it will show assignments for that course using the\n * AssignmentsView component. Otherwise, it lists all of the teacher's\n * courses with links to view assignments for each class.\n */\nexport default function TeacherAssignments() {\n  const { user } = useAuth();\n  const [searchParams] = useSearchParams();\n  const courseIdParam = searchParams.get('course_id');\n  const [classes, setClasses] = useState([]);\n  const [selectedClass, setSelectedClass] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadClasses = async () => {\n      if (!user) return;\n      setLoading(true);\n      try {\n        const courses = await Course.filter({ teacher_id: user.id });\n        const classData = await Promise.all(\n          (courses || []).map(async (course) => {\n            try {\n              const enrollments = await Enrollment.filter({ course_id: course.id });\n              return {\n                course,\n                studentCount: Array.isArray(enrollments) ? enrollments.length : 0\n              };\n            } catch (err) {\n              console.error('Error loading enrollments for course', course.name, err);\n              return { course, studentCount: 0 };\n            }\n          })\n        );\n        setClasses(classData);\n        // If course_id param is present, set selected class\n        if (courseIdParam) {\n          const found = classData.find(c => c.course.id === courseIdParam);\n          setSelectedClass(found || null);\n        }\n      } catch (error) {\n        console.error('Failed to load teacher classes:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadClasses();\n  }, [user, courseIdParam]);\n\n  // Render assignments for a selected class\n  if (!loading && selectedClass) {\n    return (\n      <ProtectedRoute allowedRoles={['teacher', 'school_admin', 'district_admin', 'system_admin', 'admin']} requireAuth={true}>\n        <div className=\"min-h-screen bg-warm-cream p-6\">\n          <div className=\"max-w-7xl mx-auto space-y-8\">\n            <header>\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                {selectedClass.course.name} Assignments\n              </h1>\n              <p className=\"text-gray-600\">\n                Manage assignments for this class (students: {selectedClass.studentCount})\n              </p>\n            </header>\n            <AssignmentsView classData={{ course: selectedClass.course, studentCount: selectedClass.studentCount }} currentUser={user} />\n          </div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  // Render list of classes with links to assignments\n  return (\n    <ProtectedRoute allowedRoles={['teacher', 'school_admin', 'district_admin', 'system_admin', 'admin']} requireAuth={true}>\n      <div className=\"min-h-screen bg-warm-cream p-6\">\n        <div className=\"max-w-7xl mx-auto space-y-8\">\n          <header>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Assignments</h1>\n            <p className=\"text-gray-600\">\n              Create and manage assignments for your classes\n            </p>\n          </header>\n          {loading && (\n            <p className=\"text-gray-500\">Loading your classes…</p>\n          )}\n          {!loading && classes.length === 0 && (\n            <Card>\n              <CardContent className=\"p-8 text-center space-y-4\">\n                <BookOpen className=\"w-12 h-12 text-gray-400 mx-auto\" />\n                <h3 className=\"text-lg font-semibold text-gray-900\">No classes found</h3>\n                <p className=\"text-gray-600\">You don't have any classes yet. Connect Google Classroom or create a class to begin.</p>\n                <div className=\"flex justify-center gap-4\">\n                  <Link to={createPageUrl('TeacherClasses')}>\n                    <Button variant=\"outline\">Go to Classes</Button>\n                  </Link>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n          {!loading && classes.length > 0 && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {classes.map((cls) => (\n                <Card key={cls.course.id} className=\"bg-white border border-gray-200 shadow-sm\">\n                  <CardContent className=\"p-4 space-y-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <Calendar className=\"w-5 h-5 text-blue-600\" />\n                      <h3 className=\"font-semibold text-lg text-gray-900 line-clamp-1\">{cls.course.name}</h3>\n                    </div>\n                    <p className=\"text-sm text-gray-600\">Students: {cls.studentCount}</p>\n                    <div className=\"flex gap-2\">\n                      <Link to={createPageUrl(`TeacherAssignments?course_id=${cls.course.id}`)}>\n                        <Button size=\"sm\" variant=\"outline\">View Assignments</Button>\n                      </Link>\n                      <Link to={createPageUrl(`TeacherClasses?course_id=${cls.course.id}`)}>\n                        <Button size=\"sm\" variant=\"outline\">View Class</Button>\n                      </Link>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":["AssignmentsView","classData","currentUser","courseName","_a","_b","jsx","Card","jsxs","CardContent","Button","TeacherAssignments","user","useAuth","searchParams","useSearchParams","courseIdParam","classes","setClasses","useState","selectedClass","setSelectedClass","loading","setLoading","useEffect","courses","Course","course","enrollments","Enrollment","err","found","c","error","ProtectedRoute","BookOpen","Link","createPageUrl","cls","Calendar"],"mappings":"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"}
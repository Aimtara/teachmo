import{c as V,r as c,j as e,a9 as F,C as v,i as b,k as N,B as C,ai as H,o as y,E as Q,z as ee}from"./index-CXW08ga6.js";import{S as B,R as z}from"./entities-CLCXHT4z.js";import"./messaging-cshogndc.js";import{T as te,a as se,b as T,c as A}from"./tabs-D--5WbS4.js";import{I as f}from"./input-DQ0nv64R.js";import{B as $}from"./badge-Dl3t65au.js";import{S as ae}from"./switch-4n8ahTqY.js";import{L as p}from"./label-C454ix-G.js";import"./textarea-MrBTA2MH.js";import{S as ne,a as ie,b as re,c as le,d as G}from"./select-CevpuT8Q.js";import{A as W}from"./index-CwPyMFvH.js";import"./cn-2dOUpm6k.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],de=V("Building",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],me=V("Hash",oe);function xe({onSave:n,onCancel:h}){const[a,l]=c.useState({name:"",contact_name:"",contact_email:"",benefit_type:"discount_percentage",benefit_value:"",licenses_allocated:"",start_date:"",end_date:"",is_active:!0}),[i,d]=c.useState({}),[w,S]=c.useState(!1),m=(s,g)=>{l(j=>({...j,[s]:g})),i[s]&&d(j=>({...j,[s]:null}))},M=()=>{const s={};return a.name.trim()||(s.name="Organization name is required"),a.contact_name.trim()||(s.contact_name="Contact name is required"),a.contact_email.trim()?/\S+@\S+\.\S+/.test(a.contact_email)||(s.contact_email="Invalid email format"):s.contact_email="Contact email is required",a.benefit_type==="discount_percentage"&&(!a.benefit_value||a.benefit_value<1||a.benefit_value>100)&&(s.benefit_value="Discount must be between 1% and 100%"),(!a.licenses_allocated||a.licenses_allocated<1)&&(s.licenses_allocated="Must allocate at least 1 license"),a.start_date||(s.start_date="Start date is required"),a.end_date||(s.end_date="End date is required"),a.start_date&&a.end_date&&new Date(a.start_date)>=new Date(a.end_date)&&(s.end_date="End date must be after start date"),d(s),Object.keys(s).length===0},D=async s=>{if(s.preventDefault(),!!M()){S(!0);try{const g={...a,benefit_value:a.benefit_type==="full_premium"?null:parseInt(a.benefit_value),licenses_allocated:parseInt(a.licenses_allocated)};await n(g)}catch(g){console.error("Error creating partner:",g)}finally{S(!1)}}};return e.jsx(W,{children:e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:h,children:e.jsx(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:s=>s.stopPropagation(),className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs(v,{className:"shadow-2xl",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(N,{children:"Create Sponsorship Partner"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add a new corporate partner with benefits"})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:h,children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Organization Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"name",children:"Organization Name *"}),e.jsx(f,{id:"name",value:a.name,onChange:s=>m("name",s.target.value),className:i.name?"border-red-500":"",placeholder:"Google, Microsoft, etc."}),i.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.name})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"contact_name",children:"Contact Person *"}),e.jsx(f,{id:"contact_name",value:a.contact_name,onChange:s=>m("contact_name",s.target.value),className:i.contact_name?"border-red-500":"",placeholder:"John Smith"}),i.contact_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.contact_name})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"contact_email",children:"Contact Email *"}),e.jsx(f,{id:"contact_email",type:"email",value:a.contact_email,onChange:s=>m("contact_email",s.target.value),className:i.contact_email?"border-red-500":"",placeholder:"partner@company.com"}),i.contact_email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.contact_email})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Benefit Configuration"}),e.jsxs("div",{children:[e.jsx(p,{children:"Benefit Type *"}),e.jsxs(ne,{value:a.benefit_type,onValueChange:s=>m("benefit_type",s),children:[e.jsx(ie,{className:"mt-2",children:e.jsx(re,{placeholder:"Select benefit type"})}),e.jsxs(le,{children:[e.jsx(G,{value:"full_premium",children:"Full Premium Access"}),e.jsx(G,{value:"discount_percentage",children:"Percentage Discount"})]})]})]}),a.benefit_type==="discount_percentage"&&e.jsxs("div",{children:[e.jsx(p,{htmlFor:"benefit_value",children:"Discount Percentage *"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(f,{id:"benefit_value",type:"number",min:"1",max:"100",value:a.benefit_value,onChange:s=>m("benefit_value",s.target.value),className:i.benefit_value?"border-red-500 pr-8":"pr-8",placeholder:"50"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:"%"})})]}),i.benefit_value&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.benefit_value})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"licenses_allocated",children:"Licenses Allocated *"}),e.jsx(f,{id:"licenses_allocated",type:"number",min:"1",value:a.licenses_allocated,onChange:s=>m("licenses_allocated",s.target.value),className:i.licenses_allocated?"border-red-500":"",placeholder:"100"}),i.licenses_allocated&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.licenses_allocated}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total number of users who can redeem codes from this partner"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Partnership Period"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"start_date",children:"Start Date *"}),e.jsx(f,{id:"start_date",type:"date",value:a.start_date,onChange:s=>m("start_date",s.target.value),className:i.start_date?"border-red-500":""}),i.start_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.start_date})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"end_date",children:"End Date *"}),e.jsx(f,{id:"end_date",type:"date",value:a.end_date,onChange:s=>m("end_date",s.target.value),className:i.end_date?"border-red-500":""}),i.end_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.end_date})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(C,{type:"button",variant:"outline",onClick:h,disabled:w,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:w,children:w?"Creating...":"Create Partner"})]})]})})]})})})})}function he({partner:n,onSave:h,onCancel:a}){const[l,i]=c.useState({code_string:"",redemption_limit:"",expiration_date:"",is_active:!0}),[d,w]=c.useState({}),[S,m]=c.useState(!1),M=()=>{const r=n.name.toUpperCase().replace(/[^A-Z]/g,"").substring(0,4),_=Math.random().toString(36).substring(2,8).toUpperCase(),k=`${r}${_}`;i(R=>({...R,code_string:k}))};Q.useEffect(()=>{l.code_string||M()},[]);const D=(r,_)=>{i(k=>({...k,[r]:_})),d[r]&&w(k=>({...k,[r]:null}))},s=()=>{const r={};return l.code_string.trim()?l.code_string.length<4?r.code_string="Code must be at least 4 characters":/^[A-Z0-9]+$/.test(l.code_string)||(r.code_string="Code must contain only uppercase letters and numbers"):r.code_string="Code string is required",l.redemption_limit&&l.redemption_limit<1&&(r.redemption_limit="Redemption limit must be at least 1"),l.expiration_date&&new Date(l.expiration_date)<=new Date&&(r.expiration_date="Expiration date must be in the future"),w(r),Object.keys(r).length===0},g=async r=>{if(r.preventDefault(),!!s()){m(!0);try{const _={...l,partner_id:n.id,redemption_limit:l.redemption_limit?parseInt(l.redemption_limit):null};await h(_)}catch(_){console.error("Error generating code:",_)}finally{m(!1)}}},j=(n.licenses_allocated||0)-(n.licenses_redeemed||0);return e.jsx(W,{children:e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:a,children:e.jsx(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:r=>r.stopPropagation(),className:"max-w-md w-full",children:e.jsxs(v,{className:"shadow-2xl",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(me,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(N,{children:"Generate Referral Code"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Create a new code for ",n.name]})]})]}),e.jsx(C,{variant:"ghost",size:"sm",onClick:a,children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsxs(y,{children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Benefit:"})," ",n.benefit_type==="full_premium"?"Full Premium Access":`${n.benefit_value}% Discount`]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Remaining Licenses:"})," ",j," / ",n.licenses_allocated]})]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"code_string",children:"Referral Code *"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(f,{id:"code_string",value:l.code_string,onChange:r=>D("code_string",r.target.value.toUpperCase()),className:d.code_string?"border-red-500":"",placeholder:"COMPANY2024"}),e.jsx(C,{type:"button",variant:"outline",onClick:M,children:"Generate"})]}),d.code_string&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.code_string})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"redemption_limit",children:"Redemption Limit (Optional)"}),e.jsx(f,{id:"redemption_limit",type:"number",min:"1",max:j,value:l.redemption_limit,onChange:r=>D("redemption_limit",r.target.value),className:d.redemption_limit?"border-red-500":"",placeholder:"Leave empty for unlimited"}),d.redemption_limit&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.redemption_limit}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of times this code can be redeemed"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"expiration_date",children:"Expiration Date (Optional)"}),e.jsx(f,{id:"expiration_date",type:"date",value:l.expiration_date,onChange:r=>D("expiration_date",r.target.value),className:d.expiration_date?"border-red-500":"",min:new Date().toISOString().split("T")[0]}),d.expiration_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.expiration_date})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Code Preview"}),e.jsx("code",{className:"text-lg font-mono bg-white px-3 py-2 rounded border block text-center",children:l.code_string||"PREVIEW"}),e.jsxs("div",{className:"text-sm text-blue-800 mt-2 space-y-1",children:[e.jsxs("p",{children:["• ",n.benefit_type==="full_premium"?"Grants full premium access":`${n.benefit_value}% discount on subscription`]}),l.redemption_limit&&e.jsxs("p",{children:["• Can be used ",l.redemption_limit," times"]}),l.expiration_date&&e.jsxs("p",{children:["• Expires on ",new Date(l.expiration_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(C,{type:"button",variant:"outline",onClick:a,disabled:S,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:S,children:S?"Generating...":"Generate Code"})]})]})]})]})})})})}const q=n=>{if(!n)return"No expiration";const h=new Date(n);return Number.isNaN(h.getTime())?"No expiration":h.toLocaleDateString()},ue=n=>n.benefit_type==="full_premium"?"Full Premium Access":n.benefit_value?`${n.benefit_value}% Discount`:"Custom Benefit";function ke(){const[n,h]=c.useState([]),[a,l]=c.useState([]),[i,d]=c.useState(""),[w,S]=c.useState(!0),[m,M]=c.useState(""),[D,s]=c.useState(!1),[g,j]=c.useState(null),[r,_]=c.useState(null),k=async()=>{S(!0),M("");try{const[t,o]=await Promise.all([B.list(),z.list()]);h(t||[]),l(o||[])}catch(t){console.error("Failed to load partner portal data:",t),h([]),l([]),M("Unable to load sponsorship data. Please try again.")}finally{S(!1)}};c.useEffect(()=>{k()},[]);const R=c.useMemo(()=>{const t=n.length,o=n.filter(x=>x.is_active).length,P=n.reduce((x,I)=>x+(I.licenses_allocated||0),0);return{totalPartners:t,activePartners:o,totalLicenses:P,referralCodes:a.length}},[n,a]),O=c.useMemo(()=>new Map(n.map(t=>[t.id,t])),[n]),U=c.useMemo(()=>{const t=i.trim().toLowerCase();return t?n.filter(o=>[o.name,o.contact_name,o.contact_email].filter(Boolean).map(x=>x.toLowerCase()).some(x=>x.includes(t))):n},[n,i]),Z=async t=>{await B.create(t),s(!1),await k()},J=async t=>{await z.create(t),j(null),await k()},X=async t=>{if(!(t!=null&&t.id))return;const o=!t.is_active;_(t.id);try{await B.update(t.id,{is_active:o}),h(P=>P.map(x=>x.id===t.id?{...x,is_active:o}:x))}catch(P){console.error("Failed to update partner status:",P)}finally{_(null)}},Y=()=>{if(!a.length){ee.show("No referral codes to export.");return}const t=u=>{if(u==null)return"";const L=String(u);return/[",\n]/.test(L)?`"${L.replace(/"/g,'""')}"`:L},P=[["Code","Partner","Active","Redemption Limit","Expires","Redeemed Count"],...a.map(u=>{const L=O.get(u.partner_id);return[u.code_string,(L==null?void 0:L.name)||"Unknown",u.is_active?"Active":"Inactive",u.redemption_limit??"Unlimited",q(u.expiration_date),u.redeemed_count||0]})].map(u=>u.map(t).join(",")).join(`
`),x=new Blob([P],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(x),E=document.createElement("a"),K=new Date().toISOString().split("T")[0];E.href=I,E.download=`referral-codes-${K}.csv`,document.body.appendChild(E),E.click(),E.remove(),URL.revokeObjectURL(I)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Partner Portal"}),e.jsx("p",{className:"text-gray-600",children:"Manage sponsorship partners, referral codes, and upcoming CRM integrations."})]}),e.jsxs("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[e.jsxs(v,{children:[e.jsxs(b,{className:"pb-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total partners"}),e.jsx(N,{className:"text-2xl",children:R.totalPartners})]}),e.jsx(y,{className:"text-sm text-muted-foreground",children:"All sponsorship organizations on file."})]}),e.jsxs(v,{children:[e.jsxs(b,{className:"pb-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active partners"}),e.jsx(N,{className:"text-2xl",children:R.activePartners})]}),e.jsx(y,{className:"text-sm text-muted-foreground",children:"Currently eligible to distribute licenses."})]}),e.jsxs(v,{children:[e.jsxs(b,{className:"pb-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Licenses allocated"}),e.jsx(N,{className:"text-2xl",children:R.totalLicenses})]}),e.jsx(y,{className:"text-sm text-muted-foreground",children:"Combined licenses committed across partners."})]}),e.jsxs(v,{children:[e.jsxs(b,{className:"pb-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Referral codes"}),e.jsx(N,{className:"text-2xl",children:R.referralCodes})]}),e.jsx(y,{className:"text-sm text-muted-foreground",children:"Active codes available for distribution."})]})]}),m&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:m}),e.jsxs(te,{defaultValue:"partners",className:"space-y-4",children:[e.jsxs(se,{children:[e.jsx(T,{value:"partners",className:"data-[state=active]:bg-white",children:"Partners"}),e.jsx(T,{value:"codes",className:"data-[state=active]:bg-white",children:"Referral Codes"}),e.jsx(T,{value:"leads",className:"data-[state=active]:bg-white",children:"Leads"}),e.jsx(T,{value:"campaigns",className:"data-[state=active]:bg-white",children:"Campaigns"})]}),e.jsx(A,{value:"partners",children:e.jsxs(v,{children:[e.jsxs(b,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{className:"text-xl",children:"Sponsorship partners"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Search, activate, and issue referral codes for partners."})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[e.jsx(f,{value:i,onChange:t=>d(t.target.value),placeholder:"Search partners...",className:"sm:w-64"}),e.jsx(C,{onClick:()=>s(!0),children:"New Partner"})]})]}),e.jsx(y,{className:"space-y-4",children:w?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading partners..."}):U.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No partners match this search."}):e.jsx("div",{className:"space-y-3",children:U.map(t=>e.jsxs("div",{className:"flex flex-col gap-4 rounded-lg border p-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsx($,{variant:t.is_active?"default":"secondary",children:t.is_active?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.contact_name," · ",t.contact_email]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Benefit: ",ue(t)]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Licenses: ",t.licenses_redeemed||0," redeemed / ",t.licenses_allocated||0," allocated"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{checked:!!t.is_active,onCheckedChange:()=>X(t),disabled:r===t.id}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t.is_active?"Active":"Inactive"})]}),e.jsx(C,{variant:"outline",onClick:()=>j(t),children:"Generate Code"})]})]},t.id))})})]})}),e.jsx(A,{value:"codes",children:e.jsxs(v,{children:[e.jsxs(b,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{className:"text-xl",children:"Referral codes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track code limits, expirations, and activation status."})]}),e.jsx(C,{variant:"outline",onClick:Y,children:"Export CSV"})]}),e.jsx(y,{children:w?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading referral codes..."}):a.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No referral codes created yet."}):e.jsx("div",{className:"space-y-3",children:a.map(t=>{const o=O.get(t.partner_id);return e.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border p-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.code_string}),e.jsx($,{variant:t.is_active?"default":"secondary",children:t.is_active?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Partner: ",(o==null?void 0:o.name)||"Unknown"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Redemption limit: ",t.redemption_limit?`${t.redemption_limit} uses`:"Unlimited"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires: ",q(t.expiration_date)]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Redeemed: ",t.redeemed_count||0]})]},t.id)})})})]})}),e.jsx(A,{value:"leads",children:e.jsxs(v,{children:[e.jsxs(b,{children:[e.jsx(N,{className:"text-xl",children:"Leads"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Coming soon: sync partner leads from HubSpot or CRM tools."})]}),e.jsx(y,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"We will surface lead status, owner assignments, and conversion metrics here."})})]})}),e.jsx(A,{value:"campaigns",children:e.jsxs(v,{children:[e.jsxs(b,{children:[e.jsx(N,{className:"text-xl",children:"Campaigns"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Coming soon: manage outreach and referral campaigns end-to-end."})]}),e.jsx(y,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Future integrations will track partner engagement, email performance, and activation flows."})})]})})]}),D&&e.jsx(xe,{onSave:Z,onCancel:()=>s(!1)}),g&&e.jsx(he,{partner:g,onSave:J,onCancel:()=>j(null)})]})}export{ke as default};
//# sourceMappingURL=PartnerDashboard-CBr2B6GP.js.map

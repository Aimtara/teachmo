{"version":3,"file":"Discover-tfDRvwwD.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/bookmark-plus.js","../../node_modules/lucide-react/dist/esm/icons/compass.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../src/components/discover/RecommendationCard.jsx","../../src/components/discover/PersonalizedDiscoverFeed.jsx","../../src/components/shared/Breadcrumbs.jsx","../../src/components/utils/navigationHelpers.jsx","../../src/pages/UnifiedDiscover.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"ArrowLeft\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n];\nconst ArrowRight = createLucideIcon(\"ArrowRight\", __iconNode);\n\nexport { __iconNode, ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z\", key: \"1fy3hk\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"7\", y2: \"13\", key: \"1cppfj\" }],\n  [\"line\", { x1: \"15\", x2: \"9\", y1: \"10\", y2: \"10\", key: \"1gty7f\" }]\n];\nconst BookmarkPlus = createLucideIcon(\"BookmarkPlus\", __iconNode);\n\nexport { __iconNode, BookmarkPlus as default };\n//# sourceMappingURL=bookmark-plus.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z\",\n      key: \"9ktpf1\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Compass = createLucideIcon(\"Compass\", __iconNode);\n\nexport { __iconNode, Compass as default };\n//# sourceMappingURL=compass.js.map\n","/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n];\nconst Search = createLucideIcon(\"Search\", __iconNode);\n\nexport { __iconNode, Search as default };\n//# sourceMappingURL=search.js.map\n","import PropTypes from 'prop-types';\nimport { BookmarkPlus, Sparkles, ArrowRight } from 'lucide-react';\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { showToast } from '@/components/shared/UltraMinimalToast';\n\nexport default function RecommendationCard({ recommendation }) {\n  const {\n    title,\n    summary,\n    tags = [],\n    subject,\n    gradeLevel,\n    ctaLabel = 'View details',\n    ctaHref\n  } = recommendation || {};\n\n  const handleSave = () => {\n    showToast('Saved to your list', { description: title || 'Recommendation saved' });\n  };\n\n  const handleOpen = () => {\n    if (ctaHref) {\n      window.open(ctaHref, '_blank', 'noopener,noreferrer');\n    } else {\n      showToast('More details coming soon', { description: title || 'This card is a preview.' });\n    }\n  };\n\n  return (\n    <Card className=\"h-full border border-gray-200\">\n      <CardHeader className=\"flex flex-row items-start justify-between gap-2\">\n        <div className=\"space-y-1\">\n          <CardTitle className=\"text-lg font-semibold text-gray-900\">{title || 'Untitled'}</CardTitle>\n          <p className=\"text-sm text-gray-600\">{summary || 'A curated learning experience awaits.'}</p>\n        </div>\n        <Sparkles className=\"h-5 w-5 text-primary shrink-0\" />\n      </CardHeader>\n      <CardContent className=\"space-y-2\">\n        <div className=\"flex flex-wrap gap-2\">\n          {subject ? <Badge variant=\"secondary\">{subject}</Badge> : null}\n          {gradeLevel ? <Badge variant=\"secondary\">Grade {gradeLevel}</Badge> : null}\n          {tags?.map((tag) => (\n            <Badge key={tag} variant=\"outline\">\n              {tag}\n            </Badge>\n          ))}\n        </div>\n      </CardContent>\n      <CardFooter className=\"flex items-center justify-between gap-2\">\n        <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\" onClick={handleSave}>\n          <BookmarkPlus className=\"h-4 w-4\" />\n          Save\n        </Button>\n        <Button variant=\"outline\" size=\"sm\" className=\"gap-2\" onClick={handleOpen}>\n          {ctaLabel}\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n\nRecommendationCard.propTypes = {\n  recommendation: PropTypes.shape({\n    title: PropTypes.string,\n    summary: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    subject: PropTypes.string,\n    gradeLevel: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    ctaLabel: PropTypes.string,\n    ctaHref: PropTypes.string\n  })\n};\n","import { useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useUserData } from '@nhost/react';\nimport { RefreshCw, Sparkles } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { showToast } from '@/components/shared/UltraMinimalToast';\nimport { graphqlRequest } from '@/lib/graphql';\nimport RecommendationCard from './RecommendationCard';\n\nconst RECOMMENDATION_QUERY = `query DiscoverRecommendations($limit: Int) {\n  activities(order_by: { created_at: desc }, limit: $limit) {\n    id\n    title\n    description\n    subject\n    grade_level\n    category\n    library_items(limit: 1) {\n      id\n      url\n      format\n    }\n  }\n}`;\n\nconst buildRecommendation = (activity) => {\n  const libraryItem = activity?.library_items?.[0] ?? null;\n  const tags = [activity?.category, libraryItem?.format].filter(Boolean);\n\n  return {\n    id: activity?.id,\n    title: activity?.title,\n    summary: activity?.description,\n    subject: activity?.subject,\n    gradeLevel: activity?.grade_level,\n    tags,\n    ctaLabel: libraryItem?.url ? 'Open resource' : 'View details',\n    ctaHref: libraryItem?.url ?? undefined\n  };\n};\n\nconst fetchRecommendations = async (userId) => {\n  if (!userId) return { items: [], unavailable: true };\n\n  try {\n    const data = await graphqlRequest({\n      query: RECOMMENDATION_QUERY,\n      variables: { limit: 6 }\n    });\n    const activities = data?.activities ?? [];\n\n    return {\n      items: activities.map(buildRecommendation),\n      unavailable: false\n    };\n  } catch (error) {\n    return { items: [], unavailable: false, error };\n  }\n};\n\nexport default function PersonalizedDiscoverFeed() {\n  const user = useUserData();\n\n  const { data, isLoading, isFetching, refetch } = useQuery({\n    queryKey: ['personalized-discover-feed', user?.id],\n    enabled: Boolean(user?.id),\n    queryFn: () => fetchRecommendations(user?.id),\n    staleTime: 1000 * 60 * 5\n  });\n\n  const items = useMemo(() => data?.items || [], [data]);\n  const unavailable = data?.unavailable;\n\n  const handleGenerate = async () => {\n    const result = await refetch();\n    if (result?.error && !result?.data?.unavailable) {\n      showToast('Unable to generate recommendations', {\n        description: result.error.message || 'Please try again shortly.'\n      });\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between gap-3\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900\">Personalized for you</h2>\n          <p className=\"text-sm text-gray-600\">\n            Recommendations generated from your saved interests and classroom activity.\n          </p>\n        </div>\n        <Button\n          variant=\"secondary\"\n          size=\"sm\"\n          className=\"gap-2\"\n          onClick={handleGenerate}\n          disabled={isFetching}\n        >\n          <RefreshCw className={`h-4 w-4 ${isFetching ? 'animate-spin' : ''}`} />\n          {isFetching ? 'Refreshing' : 'Generate Recommendations'}\n        </Button>\n      </div>\n\n      {isLoading ? (\n        <Card>\n          <CardContent className=\"p-6 space-y-3\">\n            <div className=\"h-4 w-1/3 rounded bg-gray-100\" />\n            <div className=\"h-3 w-3/4 rounded bg-gray-100\" />\n            <div className=\"h-3 w-2/3 rounded bg-gray-100\" />\n          </CardContent>\n        </Card>\n      ) : null}\n\n      {!isLoading && items.length === 0 ? (\n        <Card className=\"border-dashed\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-gray-800\">\n              <Sparkles className=\"h-4 w-4\" />\n              No Recommendations Yet\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3 text-sm text-gray-600\">\n            <p>\n              We’ll surface personalized ideas as soon as your activity and library data are\n              available.\n            </p>\n            <div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"gap-2\"\n                onClick={handleGenerate}\n                disabled={isFetching}\n              >\n                <RefreshCw className={`h-4 w-4 ${isFetching ? 'animate-spin' : ''}`} />\n                {isFetching ? 'Checking again...' : 'Generate Recommendations'}\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      ) : null}\n\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {items.map((recommendation, index) => (\n          <RecommendationCard key={recommendation?.id || recommendation?.title || index} recommendation={recommendation} />\n        ))}\n      </div>\n\n      {data?.error && unavailable ? (\n        <p className=\"text-sm text-amber-600\">\n          Recommendation service is not available yet. We’ll enable it as soon as it ships.\n        </p>\n      ) : null}\n    </div>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { ChevronRight, Home } from 'lucide-react';\nimport { ROUTE_MAP } from '@/config/navigation';\n\nconst ROUTE_ENTRIES = Object.entries(ROUTE_MAP || {}).map(([name, path]) => ({\n  name,\n  path,\n  normalizedName: name?.toLowerCase(),\n  normalizedPath: path?.toLowerCase()\n}));\n\nconst formatLabel = (value = '') =>\n  value\n    .replace(/^\\//, '')\n    .replace(/-/g, ' ')\n    .replace(/\\b\\w/g, (char) => char.toUpperCase());\n\nconst resolveFromRoutes = (segment = '') => {\n  const normalized = segment.toLowerCase();\n  const direct = ROUTE_ENTRIES.find(\n    ({ normalizedName, normalizedPath }) =>\n      normalizedName === normalized || normalizedPath === normalized || normalizedPath === `/${normalized}`\n  );\n\n  if (direct) {\n    return {\n      label: formatLabel(direct.name),\n      href: direct.path\n    };\n  }\n\n  return {\n    label: formatLabel(segment),\n    href: `/${segment.replace(/^\\//, '')}`\n  };\n};\n\nconst buildItems = (items, segments, pathname) => {\n  if (Array.isArray(items) && items.length > 0) return items;\n  if (Array.isArray(segments) && segments.length > 0) {\n    return segments.map((segment) => (typeof segment === 'string' ? resolveFromRoutes(segment) : segment));\n  }\n\n  if (pathname === '/') return [];\n\n  const parts = pathname.split('/').filter(Boolean);\n  return parts.map((part, index) => ({\n    label: formatLabel(part),\n    href: `/${parts.slice(0, index + 1).join('/')}`\n  }));\n};\n\nexport default function Breadcrumbs({ items = [], segments = [] }) {\n  const location = useLocation();\n  const crumbs = buildItems(items, segments, location.pathname);\n\n  return (\n    <nav aria-label=\"Breadcrumb\" className=\"flex items-center gap-2 text-sm text-gray-600\">\n      <ol className=\"flex items-center gap-1\">\n        <li className=\"flex items-center gap-1\">\n          <Link to=\"/\" className=\"flex items-center gap-1 text-gray-700 hover:text-gray-900\">\n            <Home className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Home</span>\n          </Link>\n        </li>\n        {crumbs.map((item, index) => {\n          const isLast = index === crumbs.length - 1;\n          return (\n            <li key={item.href || item.label} className=\"flex items-center gap-1\">\n              <ChevronRight className=\"h-3 w-3 text-gray-400\" />\n              {isLast ? (\n                <span className=\"text-gray-500\">{item.label}</span>\n              ) : (\n                <Link to={item.href || '#'} className=\"text-gray-700 hover:text-gray-900\">\n                  {item.label}\n                </Link>\n              )}\n            </li>\n          );\n        })}\n      </ol>\n    </nav>\n  );\n}\n\nBreadcrumbs.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      href: PropTypes.string\n    })\n  ),\n  segments: PropTypes.arrayOf(PropTypes.string)\n};\n","import { getDefaultPathForRole, normalizeRole } from '@/config/rbac';\n\nexport function navigateToDashboard(user, navigate) {\n  if (typeof navigate !== 'function') return;\n\n  const role = normalizeRole(\n    user?.preferred_active_role || user?.role || user?.metadata?.role || user?.defaultRole\n  );\n\n  const destination = getDefaultPathForRole(role) || '/dashboard';\n  navigate(user ? destination : '/login', { replace: true });\n}\n\nexport default {\n  navigateToDashboard\n};\n","import { useNavigate } from 'react-router-dom';\nimport { useUserData } from '@nhost/react';\nimport { ArrowLeft, Compass, Search, Sparkles } from 'lucide-react';\nimport PersonalizedDiscoverFeed from '@/components/discover/PersonalizedDiscoverFeed';\nimport Breadcrumbs from '@/components/shared/Breadcrumbs';\nimport { navigateToDashboard } from '@/components/utils/navigationHelpers';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\nexport default function UnifiedDiscover() {\n  const navigate = useNavigate();\n  const user = useUserData();\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <header className=\"flex flex-wrap items-start justify-between gap-4\">\n        <div className=\"space-y-2\">\n          <Breadcrumbs segments={['UnifiedDiscover']} />\n          <h1 className=\"text-3xl font-semibold text-gray-900\">Discover</h1>\n          <p className=\"text-gray-600\">\n            Personalized recommendations for families and classrooms, powered by the Nhost stack.\n          </p>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" className=\"gap-2\" onClick={() => navigateToDashboard(user, navigate)}>\n            <ArrowLeft className=\"h-4 w-4\" />\n            Back to dashboard\n          </Button>\n          <Button variant=\"outline\" className=\"gap-2\" onClick={() => navigate('/library')}>\n            <Search className=\"h-4 w-4\" />\n            Search library\n          </Button>\n        </div>\n      </header>\n\n      <PersonalizedDiscoverFeed />\n\n      <div className=\"grid gap-4 md:grid-cols-3\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Sparkles className=\"h-5 w-5\" />\n              Always available\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"text-sm text-gray-600\">\n            Discover gracefully handles missing backend functions so migration work never blocks the UI.\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Compass className=\"h-5 w-5\" />\n              Explore by topic\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"text-sm text-gray-600\">\n            Browse by subject, grade, and interest tags to build a classroom-ready learning path.\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Search className=\"h-5 w-5\" />\n              Resource deep links\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"text-sm text-gray-600\">\n            The route map keeps breadcrumbs synced with GitHub so content can be traced and tested quickly.\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","ArrowLeft","createLucideIcon","ArrowRight","BookmarkPlus","Compass","Search","RecommendationCard","recommendation","title","summary","tags","subject","gradeLevel","ctaLabel","ctaHref","handleSave","showToast","handleOpen","jsxs","Card","CardHeader","jsx","CardTitle","Sparkles","CardContent","Badge","tag","CardFooter","Button","PropTypes","RECOMMENDATION_QUERY","buildRecommendation","activity","libraryItem","_a","fetchRecommendations","userId","data","graphqlRequest","error","PersonalizedDiscoverFeed","user","useUserData","isLoading","isFetching","refetch","useQuery","items","useMemo","unavailable","handleGenerate","result","RefreshCw","index","ROUTE_ENTRIES","ROUTE_MAP","name","path","formatLabel","value","char","resolveFromRoutes","segment","normalized","direct","normalizedName","normalizedPath","buildItems","segments","pathname","parts","part","Breadcrumbs","location","useLocation","crumbs","Link","Home","item","isLast","ChevronRight","navigateToDashboard","navigate","role","normalizeRole","destination","getDefaultPathForRole","UnifiedDiscover","useNavigate"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}
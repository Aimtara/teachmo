{"version":3,"file":"GoogleClassroomConnect-DuR6H9SW.js","sources":["../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../src/api/integrations/index.ts","../../src/components/integration/GoogleClassroomConnect.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","import { API_BASE_URL } from \"@/config/api\";\n\nexport type LLMRequest = {\n  prompt?: string;\n  context?: Record<string, unknown>;\n};\n\nexport async function InvokeLLM({ prompt = '', context = {} }: LLMRequest = {}): Promise<{ response: string; context: Record<string, unknown> }> {\n  return { response: `Echo: ${prompt}`, context };\n}\n\nexport type UploadFileResult = { url: string | null };\n\nexport async function UploadFile(file?: File | { name?: string }): Promise<UploadFileResult> {\n  return { url: file?.name ? `/uploads/${file.name}` : null };\n}\n\nexport type EmailRequest = { to: string; subject: string; body: string };\n\nexport async function SendEmail({ to, subject, body }: EmailRequest): Promise<{ sent: boolean; to: string }> {\n  console.info('sendEmail', { to, subject, body });\n  return { sent: true, to };\n}\n\nexport async function googleAuth(params: { action: string }) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/integrations/google/auth`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(params)\n    });\n\n    if (!response.ok) {\n      if (import.meta.env.DEV) {\n        console.warn('Google Auth endpoint unreachable or returned non-OK response, returning mock for development.', {\n          status: response.status\n        });\n        return {\n          data: {\n            authUrl: 'https://accounts.google.com/o/oauth2/v2/auth?mock=true'\n          }\n        };\n      }\n\n      // In production, surface the error response instead of returning a mock\n      return response.json();\n    }\n\n    return response.json();\n  } catch (error) {\n    if (import.meta.env.DEV) {\n      console.warn('Google Auth network error, returning mock for development.', error);\n      return {\n        data: {\n          authUrl: 'https://accounts.google.com/o/oauth2/v2/auth?mock=true'\n        }\n      };\n    }\n\n    throw error;\n  }\n}\n\nexport async function googleClassroomSync(params: { action: string; courseId?: string }) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/integrations/google/sync`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(params)\n    });\n\n    if (!response.ok) {\n      const isEndpointMissing = response.status === 404 || response.status === 501;\n\n      if (import.meta.env.DEV && isEndpointMissing) {\n        console.warn('Google Sync endpoint missing, returning mock success for development.');\n        return {\n          data: {\n            success: true,\n            totalSynced: 12,\n            message: 'Sync completed (mock)'\n          }\n        };\n      }\n\n      throw new Error(`Google Sync request failed with status ${response.status}`);\n    }\n\n    return response.json();\n  } catch (error) {\n    if (import.meta.env.DEV) {\n      console.warn('Google Sync network error, returning mock success for development.', error);\n      return {\n        data: {\n          success: true,\n          totalSynced: 12,\n          message: 'Sync completed (mock)'\n        }\n      };\n    }\n\n    throw error;\n  }\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { User } from \"@/api/entities\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { CheckCircle, AlertCircle, ExternalLink, RefreshCw, Users, BookOpen } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { googleAuth, googleClassroomSync } from \"@/api/integrations\";\nimport { createLogger } from '@/utils/logger';\n\nconst logger = createLogger('GoogleClassroomConnect');\n\nexport default function GoogleClassroomConnect({ user, onConnectionUpdate }) {\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [syncStatus, setSyncStatus] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [lastSyncTime, setLastSyncTime] = useState(null);\n\n  // Store interval and listener references for cleanup\n  const checkClosedRef = useRef(null);\n  const messageListenerRef = useRef(null);\n\n  useEffect(() => {\n    if (user?.google_classroom_connected) {\n      setConnectionStatus('connected');\n      setLastSyncTime(user.last_integration_sync);\n    }\n  }, [user]);\n\n  const handleConnect = async () => {\n    setIsConnecting(true);\n    setSyncStatus(null);\n\n    try {\n      const { data } = await googleAuth({ action: 'authorize' });\n\n      if (data.authUrl) {\n        // Open Google OAuth in a popup window\n        const popup = window.open(\n          data.authUrl,\n          'google-auth',\n          'width=500,height=600,scrollbars=yes,resizable=yes'\n        );\n\n        // Listen for the popup to close or send a message\n        // Create interval and listener and store refs for cleanup\n        checkClosedRef.current = setInterval(() => {\n          if (popup.closed) {\n            if (checkClosedRef.current) clearInterval(checkClosedRef.current);\n            setIsConnecting(false);\n            // Check if connection was successful\n            checkConnectionStatus();\n          }\n        }, 1000);\n\n        messageListenerRef.current = (event) => {\n          if (event.origin !== window.location.origin) return;\n\n          if (event.data.type === 'google-auth-success') {\n            if (checkClosedRef.current) clearInterval(checkClosedRef.current);\n            popup.close();\n            setConnectionStatus('connected');\n            setIsConnecting(false);\n            setSyncStatus({ type: 'success', message: 'Connected to Google Classroom successfully!' });\n            if (onConnectionUpdate) onConnectionUpdate();\n            if (messageListenerRef.current) window.removeEventListener('message', messageListenerRef.current);\n          } else if (event.data.type === 'google-auth-error') {\n            if (checkClosedRef.current) clearInterval(checkClosedRef.current);\n            popup.close();\n            setIsConnecting(false);\n            setSyncStatus({ type: 'error', message: event.data.error || 'Failed to connect to Google Classroom' });\n            if (messageListenerRef.current) window.removeEventListener('message', messageListenerRef.current);\n          }\n        };\n\n        window.addEventListener('message', messageListenerRef.current);\n      }\n    } catch (error) {\n      logger.error('Connection error:', error);\n      setIsConnecting(false);\n      setSyncStatus({ type: 'error', message: 'Failed to initiate Google Classroom connection' });\n    }\n  };\n\n  const checkConnectionStatus = async () => {\n    try {\n      const updatedUser = await User.me();\n      if (updatedUser?.google_classroom_connected) {\n        setConnectionStatus('connected');\n        setLastSyncTime(updatedUser.last_integration_sync);\n        if (onConnectionUpdate) onConnectionUpdate();\n      }\n    } catch (error) {\n      logger.error('Error checking connection status:', error);\n    }\n  };\n\n  const handleSync = async (syncType = 'courses') => {\n    setIsSyncing(true);\n    setSyncStatus(null);\n\n    try {\n      const { data } = await googleClassroomSync({ \n        action: `sync_${syncType}`,\n        courseId: syncType === 'assignments' ? 'all' : undefined\n      });\n\n      if (data.success) {\n        setSyncStatus({ \n          type: 'success', \n          message: `Successfully synced ${data.totalSynced || 0} ${syncType}` \n        });\n        setLastSyncTime(new Date().toISOString());\n        if (onConnectionUpdate) onConnectionUpdate();\n      } else {\n        setSyncStatus({ \n          type: 'error', \n          message: data.error || `Failed to sync ${syncType}` \n        });\n      }\n    } catch (error) {\n      logger.error('Sync error:', error);\n      setSyncStatus({ \n        type: 'error', \n        message: `Failed to sync ${syncType}. Please try again.` \n      });\n    } finally {\n      setIsSyncing(false);\n    }\n  };\n\n  const handleDisconnect = async () => {\n    if (window.confirm('Are you sure you want to disconnect Google Classroom? This will stop syncing your classes and assignments.')) {\n      try {\n        await User.updateMyUserData({\n          google_classroom_connected: false,\n          google_classroom_token: null,\n          google_classroom_refresh_token: null\n        });\n\n        setConnectionStatus('disconnected');\n        setLastSyncTime(null);\n        setSyncStatus({ type: 'success', message: 'Disconnected from Google Classroom' });\n        if (onConnectionUpdate) onConnectionUpdate();\n      } catch (error) {\n        logger.error('Disconnect error:', error);\n        setSyncStatus({ type: 'error', message: 'Failed to disconnect from Google Classroom' });\n      }\n    }\n  };\n\n  // Cleanup any pending intervals or listeners on unmount\n  useEffect(() => {\n    return () => {\n      if (checkClosedRef.current) {\n        clearInterval(checkClosedRef.current);\n      }\n      if (messageListenerRef.current) {\n        window.removeEventListener('message', messageListenerRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <Card className=\"border-0 shadow-lg bg-white/90 backdrop-blur-sm\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\n              <BookOpen className=\"w-6 h-6 text-blue-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Google Classroom</CardTitle>\n              <p className=\"text-sm text-gray-600\">\n                Sync your classes, assignments, and student data\n              </p>\n            </div>\n          </div>\n          <Badge \n            className={connectionStatus === 'connected' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}\n          >\n            {connectionStatus === 'connected' ? (\n              <>\n                <CheckCircle className=\"w-3 h-3 mr-1\" />\n                Connected\n              </>\n            ) : (\n              'Not Connected'\n            )}\n          </Badge>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {syncStatus && (\n          <Alert className={syncStatus.type === 'error' ? 'border-red-200 bg-red-50' : 'border-green-200 bg-green-50'}>\n            {syncStatus.type === 'error' ? (\n              <AlertCircle className=\"h-4 w-4 text-red-600\" />\n            ) : (\n              <CheckCircle className=\"h-4 w-4 text-green-600\" />\n            )}\n            <AlertDescription className={syncStatus.type === 'error' ? 'text-red-800' : 'text-green-800'}>\n              {syncStatus.message}\n            </AlertDescription>\n          </Alert>\n        )}\n\n        {connectionStatus === 'disconnected' ? (\n          <div className=\"text-center py-6\">\n            <div className=\"mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Connect Google Classroom</h3>\n              <p className=\"text-gray-600 text-sm max-w-md mx-auto\">\n                Connect your Google Classroom account to automatically sync your classes, assignments, and communicate with parents through Teachmo.\n              </p>\n            </div>\n            \n            <div className=\"space-y-3 mb-6\">\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-700\">\n                <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                <span>Sync classes and coursework</span>\n              </div>\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-700\">\n                <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                <span>Connect with student parents</span>\n              </div>\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-700\">\n                <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                <span>Automatic assignment updates</span>\n              </div>\n            </div>\n\n            <Button\n              onClick={handleConnect}\n              disabled={isConnecting}\n              size=\"lg\"\n              className=\"bg-blue-600 hover:bg-blue-700\"\n            >\n              {isConnecting ? (\n                <>\n                  <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Connecting...\n                </>\n              ) : (\n                <>\n                  <ExternalLink className=\"w-4 h-4 mr-2\" />\n                  Connect Google Classroom\n                </>\n              )}\n            </Button>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            <div className=\"flex justify-between items-center p-3 bg-green-50 rounded-lg\">\n              <div className=\"flex items-center gap-3\">\n                <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                <div>\n                  <p className=\"font-medium text-green-900\">Google Classroom Connected</p>\n                  {lastSyncTime && (\n                    <p className=\"text-sm text-green-700\">\n                      Last synced: {new Date(lastSyncTime).toLocaleDateString()} at {new Date(lastSyncTime).toLocaleTimeString()}\n                    </p>\n                  )}\n                </div>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={handleDisconnect}>\n                Disconnect\n              </Button>\n            </div>\n\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n              <motion.div whileHover={{ scale: 1.02 }}>\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full h-auto p-4 flex flex-col items-center gap-2\"\n                  onClick={() => handleSync('courses')}\n                  disabled={isSyncing}\n                >\n                  <BookOpen className=\"w-5 h-5 text-blue-600\" />\n                  <div className=\"text-center\">\n                    <p className=\"font-medium text-sm\">Sync Classes</p>\n                    <p className=\"text-xs text-gray-600\">Update course list</p>\n                  </div>\n                </Button>\n              </motion.div>\n\n              <motion.div whileHover={{ scale: 1.02 }}>\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full h-auto p-4 flex flex-col items-center gap-2\"\n                  onClick={() => handleSync('assignments')}\n                  disabled={isSyncing}\n                >\n                  <RefreshCw className=\"w-5 h-5 text-green-600\" />\n                  <div className=\"text-center\">\n                    <p className=\"font-medium text-sm\">Sync Assignments</p>\n                    <p className=\"text-xs text-gray-600\">Update coursework</p>\n                  </div>\n                </Button>\n              </motion.div>\n\n              <motion.div whileHover={{ scale: 1.02 }}>\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full h-auto p-4 flex flex-col items-center gap-2\"\n                  onClick={() => handleSync('guardians')}\n                  disabled={isSyncing}\n                >\n                  <Users className=\"w-5 h-5 text-purple-600\" />\n                  <div className=\"text-center\">\n                    <p className=\"font-medium text-sm\">Link Parents</p>\n                    <p className=\"text-xs text-gray-600\">Connect guardians</p>\n                  </div>\n                </Button>\n              </motion.div>\n            </div>\n\n            {isSyncing && (\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-600 py-2\">\n                <RefreshCw className=\"w-4 h-4 animate-spin\" />\n                <span>Syncing data from Google Classroom...</span>\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":["__iconNode","CircleCheckBig","createLucideIcon","googleAuth","params","response","API_BASE_URL","error","googleClassroomSync","isEndpointMissing","logger","createLogger","GoogleClassroomConnect","user","onConnectionUpdate","isConnecting","setIsConnecting","useState","isSyncing","setIsSyncing","syncStatus","setSyncStatus","connectionStatus","setConnectionStatus","lastSyncTime","setLastSyncTime","checkClosedRef","useRef","messageListenerRef","useEffect","handleConnect","data","popup","checkConnectionStatus","event","updatedUser","User","handleSync","syncType","handleDisconnect","jsxs","Card","jsx","CardHeader","BookOpen","CardTitle","Badge","Fragment","CheckCircle","CardContent","Alert","AlertCircle","AlertDescription","Button","RefreshCw","ExternalLink","motion","Users"],"mappings":"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","x_google_ignoreList":[0]}
{"version":3,"file":"TeacherDashboard-CeklBxKS.js","sources":["../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../src/components/integration/GoogleClassroomConnect.jsx","../../src/pages/TeacherDashboard.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.475.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { User } from \"@/api/entities\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { CheckCircle, AlertCircle, ExternalLink, RefreshCw, Users, BookOpen } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { googleAuth } from \"@/api/functions\";\nimport { googleClassroomSync } from \"@/api/functions\";\nimport { createLogger } from '@/utils/logger';\n\nconst logger = createLogger('GoogleClassroomConnect');\n\nexport default function GoogleClassroomConnect({ user, onConnectionUpdate }) {\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [syncStatus, setSyncStatus] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [lastSyncTime, setLastSyncTime] = useState(null);\n\n  // Store interval and listener references for cleanup\n  const checkClosedRef = useRef(null);\n  const messageListenerRef = useRef(null);\n\n  useEffect(() => {\n    if (user?.google_classroom_connected) {\n      setConnectionStatus('connected');\n      setLastSyncTime(user.last_integration_sync);\n    }\n  }, [user]);\n\n  const handleConnect = async () => {\n    setIsConnecting(true);\n    setSyncStatus(null);\n\n    try {\n      const { data } = await googleAuth({ action: 'authorize' });\n\n      if (data.authUrl) {\n        // Open Google OAuth in a popup window\n        const popup = window.open(\n          data.authUrl,\n          'google-auth',\n          'width=500,height=600,scrollbars=yes,resizable=yes'\n        );\n\n        // Listen for the popup to close or send a message\n        // Create interval and listener and store refs for cleanup\n        checkClosedRef.current = setInterval(() => {\n          if (popup.closed) {\n            if (checkClosedRef.current) clearInterval(checkClosedRef.current);\n            setIsConnecting(false);\n            // Check if connection was successful\n            checkConnectionStatus();\n          }\n        }, 1000);\n\n        messageListenerRef.current = (event) => {\n          if (event.origin !== window.location.origin) return;\n\n          if (event.data.type === 'google-auth-success') {\n            if (checkClosedRef.current) clearInterval(checkClosedRef.current);\n            popup.close();\n            setConnectionStatus('connected');\n            setIsConnecting(false);\n            setSyncStatus({ type: 'success', message: 'Connected to Google Classroom successfully!' });\n            if (onConnectionUpdate) onConnectionUpdate();\n            if (messageListenerRef.current) window.removeEventListener('message', messageListenerRef.current);\n          } else if (event.data.type === 'google-auth-error') {\n            if (checkClosedRef.current) clearInterval(checkClosedRef.current);\n            popup.close();\n            setIsConnecting(false);\n            setSyncStatus({ type: 'error', message: event.data.error || 'Failed to connect to Google Classroom' });\n            if (messageListenerRef.current) window.removeEventListener('message', messageListenerRef.current);\n          }\n        };\n\n        window.addEventListener('message', messageListenerRef.current);\n      }\n    } catch (error) {\n      logger.error('Connection error:', error);\n      setIsConnecting(false);\n      setSyncStatus({ type: 'error', message: 'Failed to initiate Google Classroom connection' });\n    }\n  };\n\n  const checkConnectionStatus = async () => {\n    try {\n      const updatedUser = await User.me();\n      if (updatedUser?.google_classroom_connected) {\n        setConnectionStatus('connected');\n        setLastSyncTime(updatedUser.last_integration_sync);\n        if (onConnectionUpdate) onConnectionUpdate();\n      }\n    } catch (error) {\n      logger.error('Error checking connection status:', error);\n    }\n  };\n\n  const handleSync = async (syncType = 'courses') => {\n    setIsSyncing(true);\n    setSyncStatus(null);\n\n    try {\n      const { data } = await googleClassroomSync({ \n        action: `sync_${syncType}`,\n        courseId: syncType === 'assignments' ? 'all' : undefined\n      });\n\n      if (data.success) {\n        setSyncStatus({ \n          type: 'success', \n          message: `Successfully synced ${data.totalSynced || 0} ${syncType}` \n        });\n        setLastSyncTime(new Date().toISOString());\n        if (onConnectionUpdate) onConnectionUpdate();\n      } else {\n        setSyncStatus({ \n          type: 'error', \n          message: data.error || `Failed to sync ${syncType}` \n        });\n      }\n    } catch (error) {\n      logger.error('Sync error:', error);\n      setSyncStatus({ \n        type: 'error', \n        message: `Failed to sync ${syncType}. Please try again.` \n      });\n    } finally {\n      setIsSyncing(false);\n    }\n  };\n\n  const handleDisconnect = async () => {\n    if (window.confirm('Are you sure you want to disconnect Google Classroom? This will stop syncing your classes and assignments.')) {\n      try {\n        await User.updateMyUserData({\n          google_classroom_connected: false,\n          google_classroom_token: null,\n          google_classroom_refresh_token: null\n        });\n\n        setConnectionStatus('disconnected');\n        setLastSyncTime(null);\n        setSyncStatus({ type: 'success', message: 'Disconnected from Google Classroom' });\n        if (onConnectionUpdate) onConnectionUpdate();\n      } catch (error) {\n        logger.error('Disconnect error:', error);\n        setSyncStatus({ type: 'error', message: 'Failed to disconnect from Google Classroom' });\n      }\n    }\n  };\n\n  // Cleanup any pending intervals or listeners on unmount\n  useEffect(() => {\n    return () => {\n      if (checkClosedRef.current) {\n        clearInterval(checkClosedRef.current);\n      }\n      if (messageListenerRef.current) {\n        window.removeEventListener('message', messageListenerRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <Card className=\"border-0 shadow-lg bg-white/90 backdrop-blur-sm\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\n              <BookOpen className=\"w-6 h-6 text-blue-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Google Classroom</CardTitle>\n              <p className=\"text-sm text-gray-600\">\n                Sync your classes, assignments, and student data\n              </p>\n            </div>\n          </div>\n          <Badge \n            className={connectionStatus === 'connected' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}\n          >\n            {connectionStatus === 'connected' ? (\n              <>\n                <CheckCircle className=\"w-3 h-3 mr-1\" />\n                Connected\n              </>\n            ) : (\n              'Not Connected'\n            )}\n          </Badge>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {syncStatus && (\n          <Alert className={syncStatus.type === 'error' ? 'border-red-200 bg-red-50' : 'border-green-200 bg-green-50'}>\n            {syncStatus.type === 'error' ? (\n              <AlertCircle className=\"h-4 w-4 text-red-600\" />\n            ) : (\n              <CheckCircle className=\"h-4 w-4 text-green-600\" />\n            )}\n            <AlertDescription className={syncStatus.type === 'error' ? 'text-red-800' : 'text-green-800'}>\n              {syncStatus.message}\n            </AlertDescription>\n          </Alert>\n        )}\n\n        {connectionStatus === 'disconnected' ? (\n          <div className=\"text-center py-6\">\n            <div className=\"mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Connect Google Classroom</h3>\n              <p className=\"text-gray-600 text-sm max-w-md mx-auto\">\n                Connect your Google Classroom account to automatically sync your classes, assignments, and communicate with parents through Teachmo.\n              </p>\n            </div>\n            \n            <div className=\"space-y-3 mb-6\">\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-700\">\n                <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                <span>Sync classes and coursework</span>\n              </div>\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-700\">\n                <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                <span>Connect with student parents</span>\n              </div>\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-700\">\n                <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                <span>Automatic assignment updates</span>\n              </div>\n            </div>\n\n            <Button\n              onClick={handleConnect}\n              disabled={isConnecting}\n              size=\"lg\"\n              className=\"bg-blue-600 hover:bg-blue-700\"\n            >\n              {isConnecting ? (\n                <>\n                  <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Connecting...\n                </>\n              ) : (\n                <>\n                  <ExternalLink className=\"w-4 h-4 mr-2\" />\n                  Connect Google Classroom\n                </>\n              )}\n            </Button>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            <div className=\"flex justify-between items-center p-3 bg-green-50 rounded-lg\">\n              <div className=\"flex items-center gap-3\">\n                <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                <div>\n                  <p className=\"font-medium text-green-900\">Google Classroom Connected</p>\n                  {lastSyncTime && (\n                    <p className=\"text-sm text-green-700\">\n                      Last synced: {new Date(lastSyncTime).toLocaleDateString()} at {new Date(lastSyncTime).toLocaleTimeString()}\n                    </p>\n                  )}\n                </div>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={handleDisconnect}>\n                Disconnect\n              </Button>\n            </div>\n\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n              <motion.div whileHover={{ scale: 1.02 }}>\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full h-auto p-4 flex flex-col items-center gap-2\"\n                  onClick={() => handleSync('courses')}\n                  disabled={isSyncing}\n                >\n                  <BookOpen className=\"w-5 h-5 text-blue-600\" />\n                  <div className=\"text-center\">\n                    <p className=\"font-medium text-sm\">Sync Classes</p>\n                    <p className=\"text-xs text-gray-600\">Update course list</p>\n                  </div>\n                </Button>\n              </motion.div>\n\n              <motion.div whileHover={{ scale: 1.02 }}>\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full h-auto p-4 flex flex-col items-center gap-2\"\n                  onClick={() => handleSync('assignments')}\n                  disabled={isSyncing}\n                >\n                  <RefreshCw className=\"w-5 h-5 text-green-600\" />\n                  <div className=\"text-center\">\n                    <p className=\"font-medium text-sm\">Sync Assignments</p>\n                    <p className=\"text-xs text-gray-600\">Update coursework</p>\n                  </div>\n                </Button>\n              </motion.div>\n\n              <motion.div whileHover={{ scale: 1.02 }}>\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full h-auto p-4 flex flex-col items-center gap-2\"\n                  onClick={() => handleSync('guardians')}\n                  disabled={isSyncing}\n                >\n                  <Users className=\"w-5 h-5 text-purple-600\" />\n                  <div className=\"text-center\">\n                    <p className=\"font-medium text-sm\">Link Parents</p>\n                    <p className=\"text-xs text-gray-600\">Connect guardians</p>\n                  </div>\n                </Button>\n              </motion.div>\n            </div>\n\n            {isSyncing && (\n              <div className=\"flex items-center justify-center gap-2 text-sm text-gray-600 py-2\">\n                <RefreshCw className=\"w-4 h-4 animate-spin\" />\n                <span>Syncing data from Google Classroom...</span>\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useAuthenticationStatus, useUserId } from '@nhost/react';\nimport { Navigate } from 'react-router-dom';\nimport { graphqlRequest } from '@/lib/graphql';\nimport { User } from '@/api/entities';\nimport GoogleClassroomConnect from '@/components/integration/GoogleClassroomConnect';\nimport { Badge } from '@/components/ui/badge';\n\nexport default function TeacherDashboard() {\n  const { isAuthenticated } = useAuthenticationStatus();\n  const userId = useUserId();\n  const [currentUser, setCurrentUser] = useState(null);\n\n  // Fetch current user details to pass to integration component\n  // This ensures the \"Connected\" status is accurate on load\n  useEffect(() => {\n    if (isAuthenticated) {\n      User.me().then(setCurrentUser).catch(console.error);\n    }\n  }, [isAuthenticated]);\n\n  const { data, isLoading, error, refetch } = useQuery({\n    queryKey: ['teacher-dashboard', userId],\n    enabled: isAuthenticated && Boolean(userId),\n    queryFn: async () => {\n      // Updated query to include assignments and submission aggregates\n      const query = `query TeacherDashboard($eventsLimit: Int, $assignmentsLimit: Int) {\n        classrooms(order_by: { name: asc }) {\n          id\n          name\n        }\n        events(order_by: { starts_at: asc }, limit: $eventsLimit) {\n          id\n          title\n          starts_at\n          classroom {\n            name\n          }\n        }\n        assignments(\n          order_by: { due_at: asc }, \n          limit: $assignmentsLimit, \n          where: { status: { _eq: \"active\" } }\n        ) {\n          id\n          title\n          due_at\n          classroom {\n            name\n          }\n          submissions_aggregate {\n            aggregate {\n              count\n            }\n          }\n        }\n      }`;\n\n      return graphqlRequest({ query, variables: { eventsLimit: 5, assignmentsLimit: 5 } });\n    }\n  });\n\n  const classrooms = data?.classrooms ?? [];\n  const events = data?.events ?? [];\n  const assignments = data?.assignments ?? [];\n\n  // Callback to refresh dashboard data immediately after a sync occurs\n  const handleConnectionUpdate = () => {\n    User.me().then(setCurrentUser); // Refresh sync timestamps\n    refetch(); // Refresh class/assignment lists\n  };\n\n  if (!isAuthenticated) return <Navigate to=\"/\" replace />;\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <header>\n        <h1 className=\"text-3xl font-semibold text-gray-900\">Teacher dashboard</h1>\n        <p className=\"text-gray-600\">Manage classrooms, sync assignments, and stay ahead of upcoming events.</p>\n      </header>\n\n      {/* CRITICAL FEATURE FIX: Google Classroom Integration Section */}\n      <section>\n        <GoogleClassroomConnect \n          user={currentUser} \n          onConnectionUpdate={handleConnectionUpdate} \n        />\n      </section>\n\n      {isLoading && <p className=\"text-gray-600\">Loading dashboard data…</p>}\n      {error && (\n        <p className=\"text-red-600\" role=\"alert\">\n          Unable to load teacher data. {error.message}\n        </p>\n      )}\n\n      {!isLoading && !error && (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {/* Classrooms List */}\n          <div className=\"rounded-xl border border-gray-200 bg-white p-5 shadow-sm\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Your Classrooms</h2>\n            <ul className=\"space-y-2 text-sm\">\n              {classrooms.map((classroom) => (\n                <li key={classroom.id} className=\"rounded-lg bg-slate-50 p-3 flex items-center justify-between\">\n                  <p className=\"font-medium text-gray-900\">{classroom.name}</p>\n                </li>\n              ))}\n              {classrooms.length === 0 && (\n                <li className=\"text-sm text-gray-500\">No classrooms assigned. Sync to import.</li>\n              )}\n            </ul>\n          </div>\n\n          {/* NEW: Active Assignments Display */}\n          <div className=\"rounded-xl border border-gray-200 bg-white p-5 shadow-sm\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Active Assignments</h2>\n            <ul className=\"space-y-2 text-sm\">\n              {assignments.map((assignment) => (\n                <li key={assignment.id} className=\"rounded-lg bg-slate-50 p-3\">\n                  <div className=\"flex justify-between items-start mb-1\">\n                    <p className=\"font-medium text-gray-900 line-clamp-1\">{assignment.title}</p>\n                    <Badge variant=\"secondary\" className=\"text-[10px] px-1.5 py-0\">\n                      {assignment.submissions_aggregate?.aggregate?.count || 0} Subs\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between text-xs text-gray-500\">\n                    <span>{assignment.classroom?.name}</span>\n                    <span>Due {new Date(assignment.due_at).toLocaleDateString()}</span>\n                  </div>\n                </li>\n              ))}\n              {assignments.length === 0 && (\n                <li className=\"text-sm text-gray-500\">\n                  No active assignments. Click \"Sync Assignments\" above to update.\n                </li>\n              )}\n            </ul>\n          </div>\n\n          {/* Upcoming Events */}\n          <div className=\"rounded-xl border border-gray-200 bg-white p-5 shadow-sm\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Upcoming Events</h2>\n            <ul className=\"space-y-2 text-sm\">\n              {events.map((event) => (\n                <li key={event.id} className=\"rounded-lg bg-slate-50 p-3\">\n                  <p className=\"font-medium text-gray-900\">{event.title}</p>\n                  <p className=\"text-xs text-gray-600\">\n                    {event.classroom?.name ? `${event.classroom.name} · ` : ''}\n                    {new Date(event.starts_at).toLocaleString(undefined, {\n                      dateStyle: 'short',\n                      timeStyle: 'short',\n                    })}\n                  </p>\n                </li>\n              ))}\n              {events.length === 0 && (\n                <li className=\"text-sm text-gray-500\">No upcoming events found.</li>\n              )}\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["__iconNode","CircleCheckBig","createLucideIcon","logger","createLogger","GoogleClassroomConnect","user","onConnectionUpdate","isConnecting","setIsConnecting","useState","isSyncing","setIsSyncing","syncStatus","setSyncStatus","connectionStatus","setConnectionStatus","lastSyncTime","setLastSyncTime","checkClosedRef","useRef","messageListenerRef","useEffect","handleConnect","data","googleAuth","popup","checkConnectionStatus","event","error","updatedUser","User","handleSync","syncType","googleClassroomSync","handleDisconnect","jsxs","Card","jsx","CardHeader","BookOpen","CardTitle","Badge","Fragment","CheckCircle","CardContent","Alert","AlertCircle","AlertDescription","Button","RefreshCw","ExternalLink","motion","Users","TeacherDashboard","isAuthenticated","useAuthenticationStatus","userId","useUserId","currentUser","setCurrentUser","isLoading","refetch","useQuery","graphqlRequest","classrooms","events","assignments","handleConnectionUpdate","classroom","assignment","_b","_a","_c","Navigate"],"mappings":"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","x_google_ignoreList":[0]}
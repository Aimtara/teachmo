{"version":3,"file":"client-DAO-ed9P.js","sources":["../../src/api/ai/client.ts"],"sourcesContent":["import { API_BASE_URL } from '@/config/api';\nimport { nhost } from '@/lib/nhostClient';\n\nexport async function getAiHeaders(extraHeaders: Record<string, string> = {}) {\n  const token = await nhost.auth.getAccessToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\n    ...extraHeaders,\n  };\n}\n\nexport async function fetchAiJson(path: string, options: RequestInit = {}) {\n  const headers = await getAiHeaders(options.headers as Record<string, string>);\n  const response = await fetch(`${API_BASE_URL}${path}`, { ...options, headers });\n  if (!response.ok) {\n    const text = await response.text();\n    throw new Error(text || 'Request failed');\n  }\n  return response.json();\n}\n"],"names":["getAiHeaders","extraHeaders","token","nhost","fetchAiJson","path","options","headers","response","API_BASE_URL","text"],"mappings":"+CAGA,eAAsBA,EAAaC,EAAuC,GAAI,CAC5E,MAAMC,EAAQ,MAAMC,EAAM,KAAK,eAAA,EAC/B,MAAO,CACL,eAAgB,mBAChB,GAAID,EAAQ,CAAE,cAAe,UAAUA,CAAK,EAAA,EAAO,CAAA,EACnD,GAAGD,CAAA,CAEP,CAEA,eAAsBG,EAAYC,EAAcC,EAAuB,GAAI,CACzE,MAAMC,EAAU,MAAMP,EAAaM,EAAQ,OAAiC,EACtEE,EAAW,MAAM,MAAM,GAAGC,CAAY,GAAGJ,CAAI,GAAI,CAAE,GAAGC,EAAS,QAAAC,CAAA,CAAS,EAC9E,GAAI,CAACC,EAAS,GAAI,CAChB,MAAME,EAAO,MAAMF,EAAS,KAAA,EAC5B,MAAM,IAAI,MAAME,GAAQ,gBAAgB,CAC1C,CACA,OAAOF,EAAS,KAAA,CAClB"}
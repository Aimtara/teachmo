VITE_BASE44_APP_ID=
VITE_WS_URL=
VITE_NHOST_BACKEND_URL=
# Optional: point to custom Nhost functions endpoint
VITE_NHOST_FUNCTIONS_URL=
# Optional: adjust client-side logging verbosity (error|warn|info|debug)
VITE_LOG_LEVEL=
# Optional: override LTI base URL (defaults to https://api.teachmo.com)
VITE_LTI_BASE_URL=

# --- Feature Flags (Backend Implementation Selection) ---
# These flags control which backend implementation is used for each domain:
#   - true: Uses GraphQL/Hasura (Nhost) implementation (REQUIRED for production)
#   - false: Uses legacy Base44 API implementation (deprecated, for migration testing only)
#
# Setting these to 'true' is REQUIRED for the Nhost/Hasura migration.
# The GraphQL implementation provides:
#   - Real-time subscriptions for live updates
#   - Type-safe queries with generated TypeScript types
#   - Role-based access control enforced at the database level
#   - Better performance through optimized query execution
#
# Legacy Base44 mode (false) should only be used temporarily during migration testing.
# The Base44 API endpoints will be removed once migration is complete.
# --- Feature Flags (Enabled for Production/G2 Readiness) ---
VITE_USE_GRAPHQL_EVENTS=true
VITE_USE_GRAPHQL_ACTIVITIES=true
VITE_USE_GRAPHQL_CALENDAR=true
VITE_USE_GRAPHQL_MESSAGES=true

# --- Security & Routing ---
VITE_ENABLE_INTERNAL_ROUTES=false

# --- Express backend (legacy / isolated) ---
# Only required if running the isolated ops server
ALLOWED_ORIGINS=http://localhost:5173
ENABLE_DEMO_SEED=false

# JWT verification (required in production for Express API)
AUTH_JWKS_URL=
AUTH_ISSUER=
AUTH_AUDIENCE=

# Advanced: ONLY enable if this server sits behind Hasura in a private network
TRUST_HASURA_HEADERS=false
INTERNAL_REQUEST_SHARED_SECRET=

# Dev-only escape hatches (never enable in production)
ALLOW_TENANT_HEADERS=false
ALLOW_INSECURE_JWT_DECODE=false
HASURA_GRAPHQL_ENDPOINT=
TEST_JWT_TEACHER=
TEST_JWT_DISTRICT_ADMIN=
HASURA_GRAPHQL_ADMIN_SECRET=
APP_BASE_URL=
INVITE_TTL_DAYS=7
INVITE_EXPIRES_DAYS=7
INVITE_TOKEN_SECRET=
INVITE_CRON_TOKEN=

EMAIL_PROVIDER=smtp
EMAIL_FROM="Teachmo <no-reply@teachmo.com>"

# SMTP (if using)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# Postmark
POSTMARK_TOKEN=

# SendGrid
SENDGRID_API_KEY=

# Directory source sync
DIRECTORY_SOURCE_SECRETS_JSON={}
GOOGLE_SERVICE_ACCOUNT_JSON=
DIRECTORY_SYNC_TOKEN=
DIGEST_TOKEN=
DIRECTORY_MAX_DEACTIVATE_PCT=0.1
DIRECTORY_MAX_DEACTIVATE_ABS=100
RISKY_DEACTIVATION_ABS=25
FULL_SYNC_INTERVAL_DAYS=7
CLEVER_EVENTS_STALE_DAYS=25
ALERT_DEDUPE_MINUTES=180
ALERT_EMAIL_ENABLED=true
SAFETY_LINK_FLAG_THRESHOLD=3
SAFETY_BURST_FLAG_THRESHOLD=8
SAFETY_PROFANITY_LIST=spamword1,spamword2
